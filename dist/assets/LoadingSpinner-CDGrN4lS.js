import{j as e}from"./ui--n0l2wTA.js";import{r as l}from"./vendor-BvJ-yVPi.js";import{e as u}from"./news-BW5oRjg_.js";import{n as h,E as g,o as y,p}from"./icons-Bqiqei89.js";function k({article:s,onSave:a,onShare:r,onClose:f}){const[t,c]=l.useState(null),[n,o]=l.useState(!1),[m,i]=l.useState("content"),x=async()=>{if(!(t||n)){o(!0);try{const d=await u(s);c(d)}catch(d){console.error("Error loading summary:",d)}finally{o(!1)}}};return e.jsx("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:s.category}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"â€¢"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.source})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(h,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.readTime," min read"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(g,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.views," views"]})]})]})]}),e.jsx("h1",{className:"text-3xl font-bold",children:s.title}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:s.author.avatar,alt:s.author.name,className:"h-10 w-10 rounded-full"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.author.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(s.publishedAt).toLocaleDateString()})]})]}),e.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full rounded-lg object-cover"}),e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex border-b",children:[e.jsx("button",{className:`px-4 py-2 text-sm font-medium ${m==="content"?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-gray-700 dark:hover:text-gray-300"}`,onClick:()=>i("content"),children:"Content"}),e.jsx("button",{className:`px-4 py-2 text-sm font-medium ${m==="summary"?"border-b-2 border-primary text-primary":"text-muted-foreground hover:text-gray-700 dark:hover:text-gray-300"}`,onClick:()=>i("summary"),children:"AI Summary"})]}),m==="content"&&e.jsx("div",{className:"mt-4 prose prose-sm max-w-none",children:e.jsx("p",{children:s.content})}),m==="summary"&&e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsx("p",{className:"text-muted-foreground",children:s.aiSummary}),!t&&!n&&e.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium hover:bg-gray-100 dark:border-gray-600 dark:hover:bg-gray-700",onClick:x,children:"Load Full Summary"}),n&&e.jsx("p",{children:"Loading full summary..."}),t&&e.jsx("div",{className:"prose prose-sm max-w-none",children:e.jsx("p",{children:t})})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{className:"inline-flex items-center px-3 py-1 text-sm font-medium border border-gray-300 rounded-md hover:bg-gray-100 dark:border-gray-600 dark:hover:bg-gray-700",onClick:()=>a==null?void 0:a(s.id),children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Save"]}),e.jsxs("button",{className:"inline-flex items-center px-3 py-1 text-sm font-medium border border-gray-300 rounded-md hover:bg-gray-100 dark:border-gray-600 dark:hover:bg-gray-700",onClick:()=>r==null?void 0:r(s),children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Share"]})]}),e.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline",children:"Read original article"})]})]})})}function w({size:s="medium"}){const r={small:"w-5 h-5",medium:"w-8 h-8",large:"w-12 h-12"}[s];return e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:`${r} animate-spin rounded-full border-4 border-blue-200 border-t-blue-600 dark:border-gray-700 dark:border-t-blue-500`}),s==="large"&&e.jsx("p",{className:"mt-3 text-gray-600 dark:text-gray-400",children:"Loading content..."})]})}export{k as A,w as L};
