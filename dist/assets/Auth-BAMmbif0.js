import{r,u as b,a as f,j as e,L as j}from"./index-Be2bsAiI.js";import{C as w,N as y,O as v}from"./3DElements-vpX_uOhm.js";function N(){return e.jsx("div",{className:"fixed top-0 left-0 w-full h-full -z-10",children:e.jsxs(w,{children:[e.jsx("ambientLight",{intensity:.5}),e.jsx("spotLight",{position:[10,10,10],angle:.15,penumbra:1}),e.jsx(y,{position:[2,0,0],scale:1.5}),e.jsx(v,{enableZoom:!1,autoRotate:!0,autoRotateSpeed:.5})]})})}function C(){const[t,x]=r.useState(!0),[n,h]=r.useState(""),[o,g]=r.useState(""),[l,i]=r.useState(""),[d,c]=r.useState(!1),u=b(),m=f(),p=async a=>{a.preventDefault(),i(""),c(!0);try{if(t){const{error:s}=await m.signIn(n,o);if(s)throw s;u("/feed")}else{const{error:s}=await m.signUp(n,o);if(s)throw s;u("/onboarding")}}catch(s){i(s.message||"An error occurred during authentication")}finally{c(!1)}};return e.jsxs("div",{className:"flex items-center justify-center min-h-screen p-4 bg-gradient-to-b from-blue-50 to-white",children:[e.jsx(N,{}),e.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-lg shadow-md backdrop-blur-sm bg-opacity-90",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:t?"Sign In":"Create Account"}),e.jsx("p",{className:"mt-2 text-gray-600",children:t?"Sign in to access your personalized news":"Create an account to start getting personalized news"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[l&&e.jsx("div",{className:"p-3 text-sm text-red-500 bg-red-50 rounded-md",children:l}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",value:n,onChange:a=>h(a.target.value),required:!0,className:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"you@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",value:o,onChange:a=>g(a.target.value),required:!0,className:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"••••••••"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:d,className:"w-full px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Processing...":t?"Sign In":"Create Account"})})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("button",{onClick:()=>x(!t),className:"text-sm text-blue-600 hover:underline",children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(j,{to:"/onboarding",className:"text-xs text-gray-500 hover:underline",children:"Skip (Dev only)"})})]})]})}export{C as default};
