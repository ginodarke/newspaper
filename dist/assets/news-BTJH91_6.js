import{s as Ue}from"./index-C8_KVay2.js";function De(e,t){return function(){return e.apply(t,arguments)}}const{toString:it}=Object.prototype,{getPrototypeOf:pe}=Object,{iterator:Z,toStringTag:ve}=Symbol,Y=(e=>t=>{const r=it.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),N=e=>(e=e.toLowerCase(),t=>Y(t)===e),Q=e=>t=>typeof t===e,{isArray:L}=Array,M=Q("undefined");function at(e){return e!==null&&!M(e)&&e.constructor!==null&&!M(e.constructor)&&O(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Be=N("ArrayBuffer");function ct(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Be(e.buffer),t}const lt=Q("string"),O=Q("function"),Le=Q("number"),ee=e=>e!==null&&typeof e=="object",ut=e=>e===!0||e===!1,z=e=>{if(Y(e)!=="object")return!1;const t=pe(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ve in e)&&!(Z in e)},dt=N("Date"),ft=N("File"),pt=N("Blob"),ht=N("FileList"),mt=e=>ee(e)&&O(e.pipe),yt=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||O(e.append)&&((t=Y(e))==="formdata"||t==="object"&&O(e.toString)&&e.toString()==="[object FormData]"))},gt=N("URLSearchParams"),[wt,bt,Et,At]=["ReadableStream","Request","Response","Headers"].map(N),St=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),L(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let l;for(n=0;n<i;n++)l=s[n],t.call(null,e[l],l,e)}}function Ie(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,o;for(;n-- >0;)if(o=r[n],t===o.toLowerCase())return o;return null}const U=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,je=e=>!M(e)&&e!==U;function ae(){const{caseless:e}=je(this)&&this||{},t={},r=(n,o)=>{const s=e&&Ie(t,o)||o;z(t[s])&&z(n)?t[s]=ae(t[s],n):z(n)?t[s]=ae({},n):L(n)?t[s]=n.slice():t[s]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&$(arguments[n],r);return t}const Rt=(e,t,r,{allOwnKeys:n}={})=>($(t,(o,s)=>{r&&O(o)?e[s]=De(o,r):e[s]=o},{allOwnKeys:n}),e),Tt=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ot=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},xt=(e,t,r,n)=>{let o,s,i;const l={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),s=o.length;s-- >0;)i=o[s],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&pe(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Nt=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Ct=e=>{if(!e)return null;if(L(e))return e;let t=e.length;if(!Le(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},_t=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&pe(Uint8Array)),Pt=(e,t)=>{const n=(e&&e[Z]).call(e);let o;for(;(o=n.next())&&!o.done;){const s=o.value;t.call(e,s[0],s[1])}},kt=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Ft=N("HTMLFormElement"),Ut=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),we=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Dt=N("RegExp"),Me=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};$(r,(o,s)=>{let i;(i=t(o,s,e))!==!1&&(n[s]=i||o)}),Object.defineProperties(e,n)},vt=e=>{Me(e,(t,r)=>{if(O(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(O(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Bt=(e,t)=>{const r={},n=o=>{o.forEach(s=>{r[s]=!0})};return L(e)?n(e):n(String(e).split(t)),r},Lt=()=>{},It=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function jt(e){return!!(e&&O(e.append)&&e[ve]==="FormData"&&e[Z])}const Mt=e=>{const t=new Array(10),r=(n,o)=>{if(ee(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[o]=n;const s=L(n)?[]:{};return $(n,(i,l)=>{const d=r(i,o+1);!M(d)&&(s[l]=d)}),t[o]=void 0,s}}return n};return r(e,0)},qt=N("AsyncFunction"),$t=e=>e&&(ee(e)||O(e))&&O(e.then)&&O(e.catch),qe=((e,t)=>e?setImmediate:t?((r,n)=>(U.addEventListener("message",({source:o,data:s})=>{o===U&&s===r&&n.length&&n.shift()()},!1),o=>{n.push(o),U.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",O(U.postMessage)),Ht=typeof queueMicrotask<"u"?queueMicrotask.bind(U):typeof process<"u"&&process.nextTick||qe,Wt=e=>e!=null&&O(e[Z]),a={isArray:L,isArrayBuffer:Be,isBuffer:at,isFormData:yt,isArrayBufferView:ct,isString:lt,isNumber:Le,isBoolean:ut,isObject:ee,isPlainObject:z,isReadableStream:wt,isRequest:bt,isResponse:Et,isHeaders:At,isUndefined:M,isDate:dt,isFile:ft,isBlob:pt,isRegExp:Dt,isFunction:O,isStream:mt,isURLSearchParams:gt,isTypedArray:_t,isFileList:ht,forEach:$,merge:ae,extend:Rt,trim:St,stripBOM:Tt,inherits:Ot,toFlatObject:xt,kindOf:Y,kindOfTest:N,endsWith:Nt,toArray:Ct,forEachEntry:Pt,matchAll:kt,isHTMLForm:Ft,hasOwnProperty:we,hasOwnProp:we,reduceDescriptors:Me,freezeMethods:vt,toObjectSet:Bt,toCamelCase:Ut,noop:Lt,toFiniteNumber:It,findKey:Ie,global:U,isContextDefined:je,isSpecCompliantForm:jt,toJSONObject:Mt,isAsyncFn:qt,isThenable:$t,setImmediate:qe,asap:Ht,isIterable:Wt};function y(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}a.inherits(y,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:a.toJSONObject(this.config),code:this.code,status:this.status}}});const $e=y.prototype,He={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{He[e]={value:e}});Object.defineProperties(y,He);Object.defineProperty($e,"isAxiosError",{value:!0});y.from=(e,t,r,n,o,s)=>{const i=Object.create($e);return a.toFlatObject(e,i,function(d){return d!==Error.prototype},l=>l!=="isAxiosError"),y.call(i,e.message,t,r,n,o),i.cause=e,i.name=e.name,s&&Object.assign(i,s),i};const zt=null;function ce(e){return a.isPlainObject(e)||a.isArray(e)}function We(e){return a.endsWith(e,"[]")?e.slice(0,-2):e}function be(e,t,r){return e?e.concat(t).map(function(o,s){return o=We(o),!r&&s?"["+o+"]":o}).join(r?".":""):t}function Vt(e){return a.isArray(e)&&!e.some(ce)}const Kt=a.toFlatObject(a,{},null,function(t){return/^is[A-Z]/.test(t)});function te(e,t,r){if(!a.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=a.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,h){return!a.isUndefined(h[m])});const n=r.metaTokens,o=r.visitor||u,s=r.dots,i=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&a.isSpecCompliantForm(t);if(!a.isFunction(o))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(a.isDate(p))return p.toISOString();if(!d&&a.isBlob(p))throw new y("Blob is not supported. Use a Buffer instead.");return a.isArrayBuffer(p)||a.isTypedArray(p)?d&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,h){let E=p;if(p&&!h&&typeof p=="object"){if(a.endsWith(m,"{}"))m=n?m:m.slice(0,-2),p=JSON.stringify(p);else if(a.isArray(p)&&Vt(p)||(a.isFileList(p)||a.endsWith(m,"[]"))&&(E=a.toArray(p)))return m=We(m),E.forEach(function(S,_){!(a.isUndefined(S)||S===null)&&t.append(i===!0?be([m],_,s):i===null?m:m+"[]",c(S))}),!1}return ce(p)?!0:(t.append(be(h,m,s),c(p)),!1)}const f=[],g=Object.assign(Kt,{defaultVisitor:u,convertValue:c,isVisitable:ce});function b(p,m){if(!a.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(p),a.forEach(p,function(E,A){(!(a.isUndefined(E)||E===null)&&o.call(t,E,a.isString(A)?A.trim():A,m,g))===!0&&b(E,m?m.concat(A):[A])}),f.pop()}}if(!a.isObject(e))throw new TypeError("data must be an object");return b(e),t}function Ee(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function he(e,t){this._pairs=[],e&&te(e,this,t)}const ze=he.prototype;ze.append=function(t,r){this._pairs.push([t,r])};ze.toString=function(t){const r=t?function(n){return t.call(this,n,Ee)}:Ee;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function Jt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ve(e,t,r){if(!t)return e;const n=r&&r.encode||Jt;a.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let s;if(o?s=o(t,r):s=a.isURLSearchParams(t)?t.toString():new he(t,r).toString(n),s){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class Ae{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){a.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Ke={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Gt=typeof URLSearchParams<"u"?URLSearchParams:he,Xt=typeof FormData<"u"?FormData:null,Zt=typeof Blob<"u"?Blob:null,Yt={isBrowser:!0,classes:{URLSearchParams:Gt,FormData:Xt,Blob:Zt},protocols:["http","https","file","blob","url","data"]},me=typeof window<"u"&&typeof document<"u",le=typeof navigator=="object"&&navigator||void 0,Qt=me&&(!le||["ReactNative","NativeScript","NS"].indexOf(le.product)<0),en=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tn=me&&window.location.href||"http://localhost",nn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:me,hasStandardBrowserEnv:Qt,hasStandardBrowserWebWorkerEnv:en,navigator:le,origin:tn},Symbol.toStringTag,{value:"Module"})),R={...nn,...Yt};function rn(e,t){return te(e,new R.classes.URLSearchParams,Object.assign({visitor:function(r,n,o,s){return R.isNode&&a.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function sn(e){return a.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function on(e){const t={},r=Object.keys(e);let n;const o=r.length;let s;for(n=0;n<o;n++)s=r[n],t[s]=e[s];return t}function Je(e){function t(r,n,o,s){let i=r[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),d=s>=r.length;return i=!i&&a.isArray(o)?o.length:i,d?(a.hasOwnProp(o,i)?o[i]=[o[i],n]:o[i]=n,!l):((!o[i]||!a.isObject(o[i]))&&(o[i]=[]),t(r,n,o[i],s)&&a.isArray(o[i])&&(o[i]=on(o[i])),!l)}if(a.isFormData(e)&&a.isFunction(e.entries)){const r={};return a.forEachEntry(e,(n,o)=>{t(sn(n),o,r,0)}),r}return null}function an(e,t,r){if(a.isString(e))try{return(t||JSON.parse)(e),a.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const H={transitional:Ke,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,s=a.isObject(t);if(s&&a.isHTMLForm(t)&&(t=new FormData(t)),a.isFormData(t))return o?JSON.stringify(Je(t)):t;if(a.isArrayBuffer(t)||a.isBuffer(t)||a.isStream(t)||a.isFile(t)||a.isBlob(t)||a.isReadableStream(t))return t;if(a.isArrayBufferView(t))return t.buffer;if(a.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return rn(t,this.formSerializer).toString();if((l=a.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return te(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return s||o?(r.setContentType("application/json",!1),an(t)):t}],transformResponse:[function(t){const r=this.transitional||H.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(a.isResponse(t)||a.isReadableStream(t))return t;if(t&&a.isString(t)&&(n&&!this.responseType||o)){const i=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?y.from(l,y.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:R.classes.FormData,Blob:R.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};a.forEach(["delete","get","head","post","put","patch"],e=>{H.headers[e]={}});const cn=a.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ln=e=>{const t={};let r,n,o;return e&&e.split(`
`).forEach(function(i){o=i.indexOf(":"),r=i.substring(0,o).trim().toLowerCase(),n=i.substring(o+1).trim(),!(!r||t[r]&&cn[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Se=Symbol("internals");function j(e){return e&&String(e).trim().toLowerCase()}function V(e){return e===!1||e==null?e:a.isArray(e)?e.map(V):String(e)}function un(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const dn=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function se(e,t,r,n,o){if(a.isFunction(n))return n.call(this,t,r);if(o&&(t=r),!!a.isString(t)){if(a.isString(n))return t.indexOf(n)!==-1;if(a.isRegExp(n))return n.test(t)}}function fn(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function pn(e,t){const r=a.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(o,s,i){return this[n].call(this,t,o,s,i)},configurable:!0})})}let x=class{constructor(t){t&&this.set(t)}set(t,r,n){const o=this;function s(l,d,c){const u=j(d);if(!u)throw new Error("header name must be a non-empty string");const f=a.findKey(o,u);(!f||o[f]===void 0||c===!0||c===void 0&&o[f]!==!1)&&(o[f||d]=V(l))}const i=(l,d)=>a.forEach(l,(c,u)=>s(c,u,d));if(a.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(a.isString(t)&&(t=t.trim())&&!dn(t))i(ln(t),r);else if(a.isObject(t)&&a.isIterable(t)){let l={},d,c;for(const u of t){if(!a.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[c=u[0]]=(d=l[c])?a.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}i(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=j(t),t){const n=a.findKey(this,t);if(n){const o=this[n];if(!r)return o;if(r===!0)return un(o);if(a.isFunction(r))return r.call(this,o,n);if(a.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=j(t),t){const n=a.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||se(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let o=!1;function s(i){if(i=j(i),i){const l=a.findKey(n,i);l&&(!r||se(n,n[l],l,r))&&(delete n[l],o=!0)}}return a.isArray(t)?t.forEach(s):s(t),o}clear(t){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const s=r[n];(!t||se(this,this[s],s,t,!0))&&(delete this[s],o=!0)}return o}normalize(t){const r=this,n={};return a.forEach(this,(o,s)=>{const i=a.findKey(n,s);if(i){r[i]=V(o),delete r[s];return}const l=t?fn(s):String(s).trim();l!==s&&delete r[s],r[l]=V(o),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return a.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=t&&a.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[Se]=this[Se]={accessors:{}}).accessors,o=this.prototype;function s(i){const l=j(i);n[l]||(pn(o,i),n[l]=!0)}return a.isArray(t)?t.forEach(s):s(t),this}};x.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);a.reduceDescriptors(x.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});a.freezeMethods(x);function oe(e,t){const r=this||H,n=t||r,o=x.from(n.headers);let s=n.data;return a.forEach(e,function(l){s=l.call(r,s,o.normalize(),t?t.status:void 0)}),o.normalize(),s}function Ge(e){return!!(e&&e.__CANCEL__)}function I(e,t,r){y.call(this,e??"canceled",y.ERR_CANCELED,t,r),this.name="CanceledError"}a.inherits(I,y,{__CANCEL__:!0});function Xe(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new y("Request failed with status code "+r.status,[y.ERR_BAD_REQUEST,y.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function hn(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function mn(e,t){e=e||10;const r=new Array(e),n=new Array(e);let o=0,s=0,i;return t=t!==void 0?t:1e3,function(d){const c=Date.now(),u=n[s];i||(i=c),r[o]=d,n[o]=c;let f=s,g=0;for(;f!==o;)g+=r[f++],f=f%e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),c-i<t)return;const b=u&&c-u;return b?Math.round(g*1e3/b):void 0}}function yn(e,t){let r=0,n=1e3/t,o,s;const i=(c,u=Date.now())=>{r=u,o=null,s&&(clearTimeout(s),s=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),f=u-r;f>=n?i(c,u):(o=c,s||(s=setTimeout(()=>{s=null,i(o)},n-f)))},()=>o&&i(o)]}const J=(e,t,r=3)=>{let n=0;const o=mn(50,250);return yn(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,d=i-n,c=o(d),u=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:d,rate:c||void 0,estimated:c&&l&&u?(l-i)/c:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},Re=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Te=e=>(...t)=>a.asap(()=>e(...t)),gn=R.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,R.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(R.origin),R.navigator&&/(msie|trident)/i.test(R.navigator.userAgent)):()=>!0,wn=R.hasStandardBrowserEnv?{write(e,t,r,n,o,s){const i=[e+"="+encodeURIComponent(t)];a.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),a.isString(n)&&i.push("path="+n),a.isString(o)&&i.push("domain="+o),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function bn(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function En(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ze(e,t,r){let n=!bn(t);return e&&(n||r==!1)?En(e,t):t}const Oe=e=>e instanceof x?{...e}:e;function v(e,t){t=t||{};const r={};function n(c,u,f,g){return a.isPlainObject(c)&&a.isPlainObject(u)?a.merge.call({caseless:g},c,u):a.isPlainObject(u)?a.merge({},u):a.isArray(u)?u.slice():u}function o(c,u,f,g){if(a.isUndefined(u)){if(!a.isUndefined(c))return n(void 0,c,f,g)}else return n(c,u,f,g)}function s(c,u){if(!a.isUndefined(u))return n(void 0,u)}function i(c,u){if(a.isUndefined(u)){if(!a.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function l(c,u,f){if(f in t)return n(c,u);if(f in e)return n(void 0,c)}const d={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(c,u,f)=>o(Oe(c),Oe(u),f,!0)};return a.forEach(Object.keys(Object.assign({},e,t)),function(u){const f=d[u]||o,g=f(e[u],t[u],u);a.isUndefined(g)&&f!==l||(r[u]=g)}),r}const Ye=e=>{const t=v({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:s,headers:i,auth:l}=t;t.headers=i=x.from(i),t.url=Ve(Ze(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let d;if(a.isFormData(r)){if(R.hasStandardBrowserEnv||R.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((d=i.getContentType())!==!1){const[c,...u]=d?d.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...u].join("; "))}}if(R.hasStandardBrowserEnv&&(n&&a.isFunction(n)&&(n=n(t)),n||n!==!1&&gn(t.url))){const c=o&&s&&wn.read(s);c&&i.set(o,c)}return t},An=typeof XMLHttpRequest<"u",Sn=An&&function(e){return new Promise(function(r,n){const o=Ye(e);let s=o.data;const i=x.from(o.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:c}=o,u,f,g,b,p;function m(){b&&b(),p&&p(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let h=new XMLHttpRequest;h.open(o.method.toUpperCase(),o.url,!0),h.timeout=o.timeout;function E(){if(!h)return;const S=x.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),T={data:!l||l==="text"||l==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:S,config:e,request:h};Xe(function(F){r(F),m()},function(F){n(F),m()},T),h=null}"onloadend"in h?h.onloadend=E:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(E)},h.onabort=function(){h&&(n(new y("Request aborted",y.ECONNABORTED,e,h)),h=null)},h.onerror=function(){n(new y("Network Error",y.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let _=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const T=o.transitional||Ke;o.timeoutErrorMessage&&(_=o.timeoutErrorMessage),n(new y(_,T.clarifyTimeoutError?y.ETIMEDOUT:y.ECONNABORTED,e,h)),h=null},s===void 0&&i.setContentType(null),"setRequestHeader"in h&&a.forEach(i.toJSON(),function(_,T){h.setRequestHeader(T,_)}),a.isUndefined(o.withCredentials)||(h.withCredentials=!!o.withCredentials),l&&l!=="json"&&(h.responseType=o.responseType),c&&([g,p]=J(c,!0),h.addEventListener("progress",g)),d&&h.upload&&([f,b]=J(d),h.upload.addEventListener("progress",f),h.upload.addEventListener("loadend",b)),(o.cancelToken||o.signal)&&(u=S=>{h&&(n(!S||S.type?new I(null,e,h):S),h.abort(),h=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const A=hn(o.url);if(A&&R.protocols.indexOf(A)===-1){n(new y("Unsupported protocol "+A+":",y.ERR_BAD_REQUEST,e));return}h.send(s||null)})},Rn=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,o;const s=function(c){if(!o){o=!0,l();const u=c instanceof Error?c:this.reason;n.abort(u instanceof y?u:new I(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,s(new y(`timeout ${t} of ms exceeded`,y.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),e=null)};e.forEach(c=>c.addEventListener("abort",s));const{signal:d}=n;return d.unsubscribe=()=>a.asap(l),d}},Tn=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,o;for(;n<r;)o=n+t,yield e.slice(n,o),n=o},On=async function*(e,t){for await(const r of xn(e))yield*Tn(r,t)},xn=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},xe=(e,t,r,n)=>{const o=On(e,t);let s=0,i,l=d=>{i||(i=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await o.next();if(c){l(),d.close();return}let f=u.byteLength;if(r){let g=s+=f;r(g)}d.enqueue(new Uint8Array(u))}catch(c){throw l(c),c}},cancel(d){return l(d),o.return()}},{highWaterMark:2})},ne=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Qe=ne&&typeof ReadableStream=="function",Nn=ne&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),et=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Cn=Qe&&et(()=>{let e=!1;const t=new Request(R.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Ne=64*1024,ue=Qe&&et(()=>a.isReadableStream(new Response("").body)),G={stream:ue&&(e=>e.body)};ne&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!G[t]&&(G[t]=a.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new y(`Response type '${t}' is not supported`,y.ERR_NOT_SUPPORT,n)})})})(new Response);const _n=async e=>{if(e==null)return 0;if(a.isBlob(e))return e.size;if(a.isSpecCompliantForm(e))return(await new Request(R.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(a.isArrayBufferView(e)||a.isArrayBuffer(e))return e.byteLength;if(a.isURLSearchParams(e)&&(e=e+""),a.isString(e))return(await Nn(e)).byteLength},Pn=async(e,t)=>{const r=a.toFiniteNumber(e.getContentLength());return r??_n(t)},kn=ne&&(async e=>{let{url:t,method:r,data:n,signal:o,cancelToken:s,timeout:i,onDownloadProgress:l,onUploadProgress:d,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:g}=Ye(e);c=c?(c+"").toLowerCase():"text";let b=Rn([o,s&&s.toAbortSignal()],i),p;const m=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let h;try{if(d&&Cn&&r!=="get"&&r!=="head"&&(h=await Pn(u,n))!==0){let T=new Request(t,{method:"POST",body:n,duplex:"half"}),P;if(a.isFormData(n)&&(P=T.headers.get("content-type"))&&u.setContentType(P),T.body){const[F,W]=Re(h,J(Te(d)));n=xe(T.body,Ne,F,W)}}a.isString(f)||(f=f?"include":"omit");const E="credentials"in Request.prototype;p=new Request(t,{...g,signal:b,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:E?f:void 0});let A=await fetch(p);const S=ue&&(c==="stream"||c==="response");if(ue&&(l||S&&m)){const T={};["status","statusText","headers"].forEach(ge=>{T[ge]=A[ge]});const P=a.toFiniteNumber(A.headers.get("content-length")),[F,W]=l&&Re(P,J(Te(l),!0))||[];A=new Response(xe(A.body,Ne,F,()=>{W&&W(),m&&m()}),T)}c=c||"text";let _=await G[a.findKey(G,c)||"text"](A,e);return!S&&m&&m(),await new Promise((T,P)=>{Xe(T,P,{data:_,headers:x.from(A.headers),status:A.status,statusText:A.statusText,config:e,request:p})})}catch(E){throw m&&m(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new y("Network Error",y.ERR_NETWORK,e,p),{cause:E.cause||E}):y.from(E,E&&E.code,e,p)}}),de={http:zt,xhr:Sn,fetch:kn};a.forEach(de,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ce=e=>`- ${e}`,Fn=e=>a.isFunction(e)||e===null||e===!1,tt={getAdapter:e=>{e=a.isArray(e)?e:[e];const{length:t}=e;let r,n;const o={};for(let s=0;s<t;s++){r=e[s];let i;if(n=r,!Fn(r)&&(n=de[(i=String(r)).toLowerCase()],n===void 0))throw new y(`Unknown adapter '${i}'`);if(n)break;o[i||"#"+s]=n}if(!n){const s=Object.entries(o).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let i=t?s.length>1?`since :
`+s.map(Ce).join(`
`):" "+Ce(s[0]):"as no adapter specified";throw new y("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:de};function ie(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new I(null,e)}function _e(e){return ie(e),e.headers=x.from(e.headers),e.data=oe.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),tt.getAdapter(e.adapter||H.adapter)(e).then(function(n){return ie(e),n.data=oe.call(e,e.transformResponse,n),n.headers=x.from(n.headers),n},function(n){return Ge(n)||(ie(e),n&&n.response&&(n.response.data=oe.call(e,e.transformResponse,n.response),n.response.headers=x.from(n.response.headers))),Promise.reject(n)})}const nt="1.9.0",re={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{re[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Pe={};re.transitional=function(t,r,n){function o(s,i){return"[Axios v"+nt+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(t===!1)throw new y(o(i," has been removed"+(r?" in "+r:"")),y.ERR_DEPRECATED);return r&&!Pe[i]&&(Pe[i]=!0,console.warn(o(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,i,l):!0}};re.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Un(e,t,r){if(typeof e!="object")throw new y("options must be an object",y.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const s=n[o],i=t[s];if(i){const l=e[s],d=l===void 0||i(l,s,e);if(d!==!0)throw new y("option "+s+" must be "+d,y.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new y("Unknown option "+s,y.ERR_BAD_OPTION)}}const K={assertOptions:Un,validators:re},C=K.validators;let D=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Ae,response:new Ae}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const s=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=v(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:s}=r;n!==void 0&&K.assertOptions(n,{silentJSONParsing:C.transitional(C.boolean),forcedJSONParsing:C.transitional(C.boolean),clarifyTimeoutError:C.transitional(C.boolean)},!1),o!=null&&(a.isFunction(o)?r.paramsSerializer={serialize:o}:K.assertOptions(o,{encode:C.function,serialize:C.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),K.assertOptions(r,{baseUrl:C.spelling("baseURL"),withXsrfToken:C.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&a.merge(s.common,s[r.method]);s&&a.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=x.concat(i,s);const l=[];let d=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(d=d&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,f=0,g;if(!d){const p=[_e.bind(this),void 0];for(p.unshift.apply(p,l),p.push.apply(p,c),g=p.length,u=Promise.resolve(r);f<g;)u=u.then(p[f++],p[f++]);return u}g=l.length;let b=r;for(f=0;f<g;){const p=l[f++],m=l[f++];try{b=p(b)}catch(h){m.call(this,h);break}}try{u=_e.call(this,b)}catch(p){return Promise.reject(p)}for(f=0,g=c.length;f<g;)u=u.then(c[f++],c[f++]);return u}getUri(t){t=v(this.defaults,t);const r=Ze(t.baseURL,t.url,t.allowAbsoluteUrls);return Ve(r,t.params,t.paramsSerializer)}};a.forEach(["delete","get","head","options"],function(t){D.prototype[t]=function(r,n){return this.request(v(n||{},{method:t,url:r,data:(n||{}).data}))}});a.forEach(["post","put","patch"],function(t){function r(n){return function(s,i,l){return this.request(v(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}D.prototype[t]=r(),D.prototype[t+"Form"]=r(!0)});let Dn=class rt{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(o=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](o);n._listeners=null}),this.promise.then=o=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(o);return i.cancel=function(){n.unsubscribe(s)},i},t(function(s,i,l){n.reason||(n.reason=new I(s,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new rt(function(o){t=o}),cancel:t}}};function vn(e){return function(r){return e.apply(null,r)}}function Bn(e){return a.isObject(e)&&e.isAxiosError===!0}const fe={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(fe).forEach(([e,t])=>{fe[t]=e});function st(e){const t=new D(e),r=De(D.prototype.request,t);return a.extend(r,D.prototype,t,{allOwnKeys:!0}),a.extend(r,t,null,{allOwnKeys:!0}),r.create=function(o){return st(v(e,o))},r}const w=st(H);w.Axios=D;w.CanceledError=I;w.CancelToken=Dn;w.isCancel=Ge;w.VERSION=nt;w.toFormData=te;w.AxiosError=y;w.Cancel=w.CanceledError;w.all=function(t){return Promise.all(t)};w.spread=vn;w.isAxiosError=Bn;w.mergeConfig=v;w.AxiosHeaders=x;w.formToJSON=e=>Je(a.isHTMLForm(e)?new FormData(e):e);w.getAdapter=tt.getAdapter;w.HttpStatusCode=fe;w.default=w;const{Axios:Vn,AxiosError:Kn,CanceledError:Jn,isCancel:Gn,CancelToken:Xn,VERSION:Zn,all:Yn,Cancel:Qn,isAxiosError:er,spread:tr,toFormData:nr,AxiosHeaders:rr,HttpStatusCode:sr,formToJSON:or,getAdapter:ir,mergeConfig:ar}=w,cr=()=>new Promise((e,t)=>{if(!navigator.geolocation){t(new Error("Geolocation is not supported by your browser"));return}navigator.geolocation.getCurrentPosition(r=>{const n={latitude:r.coords.latitude,longitude:r.coords.longitude};e(n)},r=>{console.error("Error getting location:",r),t(r)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),lr=async(e,t)=>{try{const n=(await w.get(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e}&lon=${t}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"NewspaperAI/1.0"}})).data;return{latitude:e,longitude:t,address:n.display_name,city:n.address.city||n.address.town||n.address.village||n.address.hamlet,region:n.address.state||n.address.county,country:n.address.country,formattedAddress:n.display_name}}catch(r){return console.error("Error getting address from coordinates:",r),{latitude:e,longitude:t}}},Ln=e=>{try{if(!e)return null;if(e.includes(",")){const[t,r]=e.split(","),n=parseFloat(t.trim()),o=parseFloat(r.trim());if(!isNaN(n)&&!isNaN(o))return{latitude:n,longitude:o}}return null}catch(t){return console.error("Error parsing location string:",t),null}},ur=e=>e.city&&e.region?`${e.city}, ${e.region}`:e.city?e.city:e.formattedAddress?e.formattedAddress:`${e.latitude.toFixed(2)}, ${e.longitude.toFixed(2)}`;var B={};const q={THENEWSAPI:"https://api.thenewsapi.com/v1/news",NEWSDATA:"https://newsdata.io/api/1/news",NEWSAPI:"https://newsapi.org/v2",APITUBE:"https://api.apitube.io/v1/news"},k=10,In="us";async function dr(e=null,t){try{if(t&&(!e||e==="Local"))try{const n=await jn(t);if(n.length>=k)return n}catch(n){console.error("Error fetching local news:",n)}try{const n=await Mn(e,t);if(n.length>=k)return t?await ke(n,t):n}catch(n){console.error("Error fetching from TheNewsAPI:",n)}try{const n=await qn(e,t);if(n.length>=k)return t?await ke(n,t):n}catch(n){console.error("Error fetching from NewsData.io:",n)}console.warn("All news APIs failed, using mock data as fallback");let r=Fe(e);return t&&(r=r.map((n,o)=>o%3===0?{...n,relevanceReason:`This is happening near ${t.city||"your location"}.`,isLocalNews:!0,locationRelevance:`This news impacts ${t.city||t.region||"your area"} directly.`}:n)),r}catch(r){return console.error("Error fetching articles:",r),Fe(e)}}async function jn(e){try{const t=e.city||"",r=e.region||"",n=e.country||"",o=[t,r,n].filter(Boolean).join(" ");if(!o)return[];const s=`${q.NEWSDATA}`,i={apikey:B.VITE_NEWSDATA_KEY||void 0,language:"en",q:o,category:"top",size:k},l=await w.get(s,{params:i});return l.data&&l.data.results&&l.data.results.length>0?l.data.results.map(c=>({id:c.article_id||String(Math.random()),title:c.title,category:"Local",source:c.source_id||"NewsData.io",url:c.link,imageUrl:c.image_url,summary:c.description||c.content,content:c.content,description:c.description,publishedAt:c.pubDate||new Date().toISOString(),relevanceReason:`This is happening in ${e.city||"your area"}.`,isLocalNews:!0,locationRelevance:`This directly affects ${e.city||e.region||"your area"}.`,trendingScore:Math.floor(Math.random()*20)+80})):[]}catch(t){return console.error("Error fetching local news:",t),[]}}async function Mn(e=null,t){let r=`${q.THENEWSAPI}/top`,n={api_token:B.VITE_THENEWSAPI_KEY||void 0,language:"en",limit:k+5,locale:In};if(e&&e!=="All"&&e!=="Local"){const s={Technology:"tech",Business:"business",Politics:"politics",Science:"science",Health:"health",Sports:"sports",Entertainment:"entertainment","World News":"world"};n.categories=s[e]||"general"}if(t&&t.country){const s=t.country.toLowerCase();s==="united states"||s==="usa"||s==="us"?n.locale="us":s==="united kingdom"||s==="uk"||s==="gb"?n.locale="gb":s==="canada"||s==="ca"?n.locale="ca":(s==="australia"||s==="au")&&(n.locale="au")}const o=await w.get(r,{params:n});return o.data&&o.data.data&&o.data.data.length>0?o.data.data.map(s=>({id:s.uuid||s.id||String(Math.random()),title:s.title,category:e||X(s.keywords||[]),source:s.source||"TheNewsAPI",url:s.url,imageUrl:s.image_url,summary:s.description||s.snippet,content:s.content||s.snippet,description:s.description||s.snippet,publishedAt:s.published_at||new Date().toISOString(),trendingScore:Math.floor(Math.random()*30)+70,keyFeatures:ye(s.description||s.snippet||s.title)})):[]}async function qn(e=null,t){let r=`${q.NEWSDATA}`,n={apikey:B.VITE_NEWSDATA_KEY||void 0,language:"en",size:k+5,country:"us"};if(e&&e!=="All"&&e!=="Local"){const s={Technology:"technology",Business:"business",Politics:"politics",Science:"science",Health:"health",Sports:"sports",Entertainment:"entertainment","World News":"world"};n.category=s[e]||"top"}if(t&&t.country){const s=t.country.toLowerCase();s==="united states"||s==="usa"||s==="us"?n.country="us":s==="united kingdom"||s==="uk"?n.country="gb":s==="canada"?n.country="ca":s==="australia"&&(n.country="au")}const o=await w.get(r,{params:n});return o.data&&o.data.results&&o.data.results.length>0?o.data.results.map(s=>({id:s.article_id||String(Math.random()),title:s.title,category:e||X(s.keywords||[]),source:s.source_id||"NewsData.io",url:s.link,imageUrl:s.image_url,summary:s.description||s.content,content:s.content,description:s.description,publishedAt:s.pubDate||new Date().toISOString(),trendingScore:Math.floor(Math.random()*30)+70,keyFeatures:ye(s.description||s.content||s.title)})):[]}function ye(e){if(!e)return[];const r=e.split(/[.!?]+/).filter(n=>n.trim().length>10).slice(0,3).map(n=>n.trim());for(;r.length<3;)r.push("More information available in the full article.");return r}async function ke(e,t){try{const r=e.slice(0,k),n=B.VITE_OPENROUTER_API_KEY||void 0;if(!n)return console.warn("OpenRouter API key not found, skipping relevance analysis"),e;const o=await Promise.all(r.map(async(i,l)=>{try{const d=`
Given the following article, please provide two things:
1. A concise one-sentence explanation (25 words max) of why this news might personally matter to someone living in ${t.city||t.region||"the provided location"}, ${t.country||""}.
2. Extract 3-4 key features or important pieces of information from the article as bullet points.

Article Title: ${i.title}
Article Summary: ${i.summary}

Format your response as:
RELEVANCE: [your one-sentence explanation]
FEATURES:
- [first key point]
- [second key point]
- [third key point]
- [optional fourth key point]
`,c=await w.post("https://openrouter.ai/api/v1/chat/completions",{model:"openai/gpt-3.5-turbo-0125",messages:[{role:"user",content:d}],temperature:.7,max_tokens:250},{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(c.data&&c.data.choices&&c.data.choices.length>0){const u=c.data.choices[0].message.content.trim();let f="",g=[];const b=u.match(/RELEVANCE:\s*(.*?)(?=\n|$)/);b&&b[1]&&(f=b[1].trim());const p=u.match(/- (.*?)(?=\n|$)/g);return p&&(g=p.map(m=>m.replace(/^- /,"").trim())),{...i,relevanceReason:f||`This ${i.category.toLowerCase()} news could impact ${t.city||"your area"}'s residents.`,keyFeatures:g.length>0?g:i.keyFeatures||ye(i.summary),aiSummary:`This article highlights ${i.category.toLowerCase()} developments that may affect ${t.city||"your area"}'s economy, community, or daily life.`}}}catch(d){console.error("Error generating relevance explanation:",d)}return i})),s=[...e];return o.forEach((i,l)=>{l<k&&(s[l]=i)}),s}catch(r){return console.error("Error adding relevance explanations:",r),e}}function X(e){const t={Technology:["tech","technology","digital","software","hardware","ai","artificial intelligence"],Business:["business","finance","economy","market","stock","trade"],Politics:["politics","government","election","policy","political"],Science:["science","research","discovery","study","scientific"],Health:["health","medical","medicine","disease","healthcare","wellness"],Sports:["sports","football","soccer","baseball","basketball","tennis","olympics"],Entertainment:["entertainment","movie","music","celebrity","film","tv","show"],"World News":["world","international","global","foreign","diplomatic"]};for(const[r,n]of Object.entries(t))for(const o of e)if(n.some(s=>o.toLowerCase().includes(s)))return r;return"General"}function Fe(e=null){const t=ot();return!e||e==="All"?t:t.filter(r=>r.category===e)}const fr=async(e,t)=>{try{let r="";t&&t.city;try{const s=`${q.THENEWSAPI}/all`,i={api_token:B.VITE_THENEWSAPI_KEY||void 0,language:"en",search:e+r,limit:20},l=await w.get(s,{params:i});if(l.data&&l.data.data&&l.data.data.length>0)return l.data.data.map(c=>({id:c.uuid||c.id||String(Math.random()),title:c.title,category:X(c.keywords||[]),source:c.source||"TheNewsAPI",url:c.url,imageUrl:c.image_url,summary:c.description||c.snippet,content:c.content||c.snippet,description:c.description||c.snippet,publishedAt:c.published_at||new Date().toISOString()}))}catch(s){console.error("Error searching TheNewsAPI:",s)}try{const s=`${q.NEWSDATA}`,i={apikey:B.VITE_NEWSDATA_KEY||void 0,language:"en",q:e+r,size:20},l=await w.get(s,{params:i});if(l.data&&l.data.results&&l.data.results.length>0)return l.data.results.map(c=>({id:c.article_id||String(Math.random()),title:c.title,category:X(c.keywords||[]),source:c.source_id||"NewsData.io",url:c.link,imageUrl:c.image_url,summary:c.description||c.content,content:c.content,description:c.description,publishedAt:c.pubDate||new Date().toISOString()}))}catch(s){console.error("Error searching NewsData.io:",s)}const n=ot(),o=e.toLowerCase().split(" ");return n.filter(s=>{const i=o.some(u=>s.title.toLowerCase().includes(u)),l=o.some(u=>s.summary.toLowerCase().includes(u)),d=s.content?o.some(u=>s.content.toLowerCase().includes(u)):!1,c=o.some(u=>s.category.toLowerCase().includes(u));return i||l||d||c})}catch(r){return console.error("Error in searchArticles:",r),[]}},pr=async e=>{try{const{preferences:t}=await $n(e);return t&&t.location?Ln(t.location):null}catch(t){return console.error("Error getting user location from preferences:",t),null}},hr=async(e,t)=>{try{const{error:r}=await Ue.from("user_preferences").upsert({user_id:e,categories:t.categories,sources:t.sources,location:t.location,updated_at:new Date().toISOString()});return{success:!r,error:r}}catch(r){return console.error("Error saving preferences:",r),{success:!1,error:r}}},$n=async e=>{try{const{data:t,error:r}=await Ue.from("user_preferences").select("*").eq("user_id",e).single();return r?{preferences:null,error:r}:{preferences:t?{categories:t.categories,sources:t.sources,location:t.location}:null,error:null}}catch(t){return console.error("Error fetching preferences:",t),{preferences:null,error:t}}},mr=async e=>{try{const t=B.VITE_OPENROUTER_API_KEY||void 0;if(!t)return"AI summary not available. Please add your OpenRouter API key.";const r=`
Please analyze the following article and provide:
1. A concise summary (3-4 sentences) focused on the key facts and main points
2. The most important implications or impacts of this news
3. Why this matters to readers, especially considering trends in ${e.category}

Title: ${e.title}
Content: ${e.content||e.summary}

Format your response in a conversational tone, without using bullet points or numbered lists.
`,n=await w.post("https://openrouter.ai/api/v1/chat/completions",{model:"openai/gpt-3.5-turbo-0125",messages:[{role:"user",content:r}],temperature:.7,max_tokens:250},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return n.data&&n.data.choices&&n.data.choices.length>0?n.data.choices[0].message.content.trim():"Unable to generate AI summary at this time."}catch(t){return console.error("Error generating AI summary:",t),"Error generating AI summary. Please try again later."}},ot=()=>[{id:"1",title:"Breakthrough in Quantum Computing Promises Faster Processing",summary:"Scientists have achieved a quantum computing breakthrough that could revolutionize data processing speeds.",content:"Researchers at MIT have successfully demonstrated a new quantum computing architecture that maintains coherence for record durations, potentially allowing for complex calculations that would take traditional computers millennia to solve.",source:"Tech Horizons",url:"https://example.com/quantum-breakthrough",publishedAt:"2023-06-15T09:30:00Z",category:"Technology",imageUrl:"https://source.unsplash.com/random/800x600/?quantum",relevanceReason:"Based on your interest in computing technologies"},{id:"2",title:"Global Climate Summit Reaches Historic Agreement",summary:"World leaders have reached a consensus on ambitious climate goals at the latest summit.",content:"After intense negotiations, representatives from 195 countries have agreed to more stringent carbon emission targets and substantial funding for renewable energy infrastructure in developing nations.",source:"Global News Network",url:"https://example.com/climate-agreement",publishedAt:"2023-06-14T18:45:00Z",category:"World News",imageUrl:"https://source.unsplash.com/random/800x600/?climate",relevanceReason:"Trending in your area"},{id:"3",title:"New Study Links Exercise to Improved Brain Function",summary:"Research indicates that regular physical activity has more cognitive benefits than previously understood.",content:"A longitudinal study spanning 10 years has found that participants who engaged in moderate exercise at least three times weekly showed significantly improved memory retention and problem-solving capabilities compared to sedentary counterparts.",source:"Health Today",url:"https://example.com/exercise-brain-study",publishedAt:"2023-06-13T14:20:00Z",category:"Health",imageUrl:"https://source.unsplash.com/random/800x600/?exercise",relevanceReason:"Based on your recent reading history"},{id:"4",title:"Major Business Merger Creates New Market Leader",summary:"Two industry giants announced a surprising merger that will reshape the competitive landscape.",content:"The unexpected merger between two leading corporations is expected to create significant market disruption and may trigger regulatory reviews in multiple jurisdictions due to potential antitrust concerns.",source:"Business Insider",url:"https://example.com/business-merger",publishedAt:"2023-06-12T10:15:00Z",category:"Business",imageUrl:"https://source.unsplash.com/random/800x600/?business",relevanceReason:"Related to your followed industries"},{id:"5",title:"Upcoming Elections: Key Issues and Candidates",summary:"Analysis of the main policy debates and leading candidates in the upcoming national elections.",content:"Political analysts point to economic recovery, healthcare reform, and climate policy as the decisive factors likely to influence voter decisions in what is projected to be one of the most closely contested elections in recent history.",source:"Politics Daily",url:"https://example.com/election-preview",publishedAt:"2023-06-11T09:00:00Z",category:"Politics",imageUrl:"https://source.unsplash.com/random/800x600/?election",relevanceReason:"Important events in your region"},{id:"6",title:"Astronomical Discovery: New Exoplanet Could Support Life",summary:"Astronomers have identified a potentially habitable exoplanet within our stellar neighborhood.",content:"The newly discovered exoplanet, located just 40 light-years from Earth, resides in its star's habitable zone and appears to have an atmosphere containing water vapor, making it one of the most promising candidates for extraterrestrial life found to date.",source:"Space & Cosmos",url:"https://example.com/habitable-exoplanet",publishedAt:"2023-06-10T16:20:00Z",category:"Science",imageUrl:"https://source.unsplash.com/random/800x600/?planets",relevanceReason:"Matches your interest in astronomy"},{id:"7",title:"Championship Finals Set After Dramatic Semifinal Matches",summary:"Unexpected results in the semifinals have set up an intriguing championship final matchup.",content:"The underdog team's surprise victory has created tremendous excitement among fans worldwide, with ticket prices for the final match reaching record levels and broadcasting rights being negotiated for unprecedented amounts.",source:"Sports Center",url:"https://example.com/championship-finals",publishedAt:"2023-06-09T22:30:00Z",category:"Sports",imageUrl:"https://source.unsplash.com/random/800x600/?championship",relevanceReason:"Based on teams you follow"},{id:"8",title:"Award-Winning Film Director Announces Ambitious New Project",summary:"The acclaimed filmmaker revealed plans for a groundbreaking new cinematic experience.",content:"The highly anticipated project will utilize cutting-edge technology to create an immersive narrative experience, pushing the boundaries of traditional filmmaking and potentially establishing a new paradigm for storytelling in digital media.",source:"Entertainment Weekly",url:"https://example.com/director-new-project",publishedAt:"2023-06-08T12:15:00Z",category:"Entertainment",imageUrl:"https://source.unsplash.com/random/800x600/?cinema",relevanceReason:"Similar to content you've engaged with"}];export{lr as a,mr as b,$n as c,pr as d,dr as e,ur as f,cr as g,fr as h,hr as s};
