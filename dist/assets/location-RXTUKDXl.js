import{b as s}from"./news-GvrH7eKe.js";const a=()=>new Promise((r,o)=>{if(!navigator.geolocation){o(new Error("Geolocation is not supported by your browser"));return}navigator.geolocation.getCurrentPosition(t=>{const e={latitude:t.coords.latitude,longitude:t.coords.longitude};r(e)},t=>{console.error("Error getting location:",t),o(t)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),n=async(r,o)=>{try{const e=(await s.get(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${r}&lon=${o}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"NewspaperAI/1.0"}})).data;return{latitude:r,longitude:o,address:e.display_name,city:e.address.city||e.address.town||e.address.village||e.address.hamlet,region:e.address.state||e.address.county,country:e.address.country,formattedAddress:e.display_name}}catch(t){return console.error("Error getting address from coordinates:",t),{latitude:r,longitude:o}}},d=async()=>{try{const r=await a();return await n(r.latitude,r.longitude)}catch(r){throw console.error("Error getting complete location data:",r),r}},c=r=>r.city&&r.region?`${r.city}, ${r.region}`:r.city?r.city:r.formattedAddress?r.formattedAddress:`${r.latitude.toFixed(2)}, ${r.longitude.toFixed(2)}`,g=async()=>{try{return await d()}catch(r){console.error("Error getting user location:",r);return}};export{n as a,g as b,c as f,a as g};
