import{j as e,r as n,m as b}from"./vendor-Bm8ggWCn.js";import{d as j}from"./news-CtfdD4_O.js";function v({size:r="medium"}){const a={small:"w-5 h-5",medium:"w-8 h-8",large:"w-12 h-12"}[r];return e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:`${a} animate-spin rounded-full border-4 border-blue-200 border-t-blue-600 dark:border-gray-700 dark:border-t-blue-500`}),r==="large"&&e.jsx("p",{className:"mt-3 text-gray-600 dark:text-gray-400",children:"Loading content..."})]})}function k({article:r,onSave:l,onShare:a,onClick:u}){const[i,y]=n.useState("article"),[o,h]=n.useState(null),[d,c]=n.useState(!1),[m,x]=n.useState(null),g=async t=>{if(y(t),t==="ai"&&!o&&!d)try{c(!0),x(null);const s=await j(r);h(s)}catch(s){console.error("Error getting AI summary:",s),x("Failed to get AI summary. Please try again later.")}finally{c(!1)}},p=(t,s)=>t?t.length>s?t.substring(0,s)+"...":t:"",f=r.publishedAt?new Date(r.publishedAt).toLocaleDateString():"Recently";return e.jsxs("div",{className:"h-full flex flex-col overflow-hidden hover:shadow-lg transition-shadow duration-300 cursor-pointer border rounded-lg bg-card text-card-foreground shadow",onClick:u,children:[e.jsxs("div",{className:"py-4 px-5 border-b",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"bg-primary/10 text-primary text-xs rounded-full px-2 py-1",children:r.source||"News"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:f})]}),e.jsx("h3",{className:"text-lg font-bold leading-tight line-clamp-2 hover:text-primary transition-colors",children:r.title})]}),r.imageUrl&&e.jsx("div",{className:"aspect-video relative overflow-hidden",children:e.jsx("img",{src:r.imageUrl,alt:r.title,className:"object-cover w-full h-full transform hover:scale-105 transition-transform duration-300",onError:t=>{const s=t.target;s.style.display="none"}})}),e.jsx("div",{className:"flex-grow p-4",children:e.jsxs("div",{className:"w-full mb-2",children:[e.jsxs("div",{className:"grid w-full grid-cols-2 mb-2 border rounded-lg overflow-hidden",children:[e.jsx("button",{className:`py-2 text-center text-sm ${i==="article"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,onClick:()=>g("article"),children:"Article"}),e.jsx("button",{className:`py-2 text-center text-sm ${i==="ai"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,onClick:()=>g("ai"),children:"AI Summary"})]}),e.jsxs("div",{className:"mt-2 min-h-[80px]",children:[i==="article"&&e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-3",children:r.description||"No description available"}),i==="ai"&&e.jsx(e.Fragment,{children:d?e.jsx("div",{className:"flex items-center justify-center py-4",children:e.jsx(v,{size:"small"})}):m?e.jsx("div",{className:"text-sm text-red-500 py-2",children:m}):o?e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:p(o,180)})}):e.jsx("p",{className:"text-sm text-gray-500 italic",children:"Click to generate AI summary"})})]})]})}),e.jsxs("div",{className:"flex justify-between items-center py-3 px-5 border-t",children:[l&&e.jsxs("button",{className:"inline-flex items-center px-3 py-1 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700",onClick:t=>{t.stopPropagation(),l(r.id)},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:e.jsx("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"})}),"Save"]}),a&&e.jsxs("button",{className:"inline-flex items-center px-3 py-1 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700",onClick:t=>{t.stopPropagation(),a(r.id)},children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:[e.jsx("circle",{cx:"18",cy:"5",r:"3"}),e.jsx("circle",{cx:"6",cy:"12",r:"3"}),e.jsx("circle",{cx:"18",cy:"19",r:"3"}),e.jsx("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),e.jsx("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]}),"Share"]})]})]})}export{k as A,v as L};
