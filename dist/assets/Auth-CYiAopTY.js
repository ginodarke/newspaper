import{r as a,u as f,a as y,j as e,L as b}from"./index-CrJ8FlQI.js";function j(){const[r,x]=a.useState(!0),[n,p]=a.useState(""),[o,h]=a.useState(""),[i,l]=a.useState(""),[c,d]=a.useState(!1),u=f(),m=y(),g=async t=>{t.preventDefault(),l(""),d(!0);try{if(r){const{error:s}=await m.signIn(n,o);if(s)throw s;u("/feed")}else{const{error:s}=await m.signUp(n,o);if(s)throw s;u("/onboarding")}}catch(s){l(s.message||"An error occurred during authentication")}finally{d(!1)}};return e.jsx("div",{className:"flex items-center justify-center min-h-screen p-4 bg-gray-50",children:e.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-lg shadow-md",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold",children:r?"Sign In":"Create Account"}),e.jsx("p",{className:"mt-2 text-gray-600",children:r?"Sign in to access your personalized news":"Create an account to start getting personalized news"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[i&&e.jsx("div",{className:"p-3 text-sm text-red-500 bg-red-50 rounded-md",children:i}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",value:n,onChange:t=>p(t.target.value),required:!0,className:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary",placeholder:"you@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",value:o,onChange:t=>h(t.target.value),required:!0,className:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary",placeholder:"••••••••"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:c,className:"w-full px-4 py-2 text-white bg-primary rounded-md hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Processing...":r?"Sign In":"Create Account"})})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("button",{onClick:()=>x(!r),className:"text-sm text-primary hover:underline",children:r?"Don't have an account? Sign up":"Already have an account? Sign in"})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(b,{to:"/onboarding",className:"text-xs text-gray-500 hover:underline",children:"Skip (Dev only)"})})]})})}export{j as default};
