import{r as n,j as e,u as E,a as R}from"./index-B_HU_erO.js";import{T as $}from"./ThemeToggle-DXCCPv-p.js";import{L as F,A,a as I}from"./LoadingSpinner-Bf7qmoRd.js";import{b as H,c as P,d as D,e as U}from"./news-CULJpThg.js";import{A as V}from"./3DElements-aSbagfDX.js";import{m as o}from"./proxy-Ycuivlsy.js";function G({onSearch:r,placeholder:m="Search articles..."}){const[a,x]=n.useState(""),h=p=>{p.preventDefault(),a.trim()&&r(a)};return e.jsxs("form",{onSubmit:h,className:"relative flex items-center w-full",children:[e.jsx("input",{type:"text",value:a,onChange:p=>x(p.target.value),placeholder:m,className:`w-full py-2 pl-10 pr-4 rounded-md border border-gray-300 dark:border-gray-600 
                 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent
                 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`}),e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-400 dark:text-gray-500",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})}),e.jsxs("button",{type:"submit",className:`absolute inset-y-0 right-0 flex items-center px-3 
                  text-gray-500 dark:text-gray-400 hover:text-primary dark:hover:text-blue-400`,children:[e.jsx("span",{className:"sr-only",children:"Search"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})]})]})}function _({article:r,onClose:m}){const[a,x]=n.useState("article"),[h,p]=n.useState(null),[g,f]=n.useState(!1),y=async()=>{if(!(h||g)){f(!0);try{const t=await H(r);p(t)}catch(t){console.error("Error loading full AI summary:",t)}finally{f(!1)}}};n.useEffect(()=>{a==="analysis"&&y()},[a]);const v=t=>t?t>=90?"Highly Trending":t>=80?"Trending":t>=70?"Popular":"Average":"Average",i=t=>{const d=new Date,b=new Date(t),u=Math.floor((d.getTime()-b.getTime())/1e3);if(u<60)return"Just now";const l=Math.floor(u/60);if(l<60)return`${l} ${l===1?"minute":"minutes"} ago`;const k=Math.floor(l/60);if(k<24)return`${k} ${k===1?"hour":"hours"} ago`;const w=Math.floor(k/24);return w<7?`${w} ${w===1?"day":"days"} ago`:b.toLocaleDateString()},j=t=>{const d=new Date,b=new Date(t),u=Math.floor((d.getTime()-b.getTime())/(1e3*60*60));return u<6?"text-green-500 dark:text-green-400":u<24?"text-blue-500 dark:text-blue-400":u<72?"text-purple-500 dark:text-purple-400":"text-gray-500 dark:text-gray-400"};return e.jsxs("div",{className:"flex flex-col h-full max-h-[90vh]",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white line-clamp-1",children:r.title}),e.jsx("button",{onClick:m,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsxs("nav",{className:"flex px-4 -mb-px",children:[e.jsx("button",{onClick:()=>x("article"),className:`py-3 px-4 text-sm font-medium border-b-2 ${a==="article"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Article"}),e.jsx("button",{onClick:()=>x("analysis"),className:`py-3 px-4 text-sm font-medium border-b-2 ${a==="analysis"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"AI Analysis"}),e.jsx("button",{onClick:()=>x("context"),className:`py-3 px-4 text-sm font-medium border-b-2 ${a==="context"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Related Context"})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[a==="article"&&e.jsxs("div",{className:"space-y-4",children:[r.imageUrl&&e.jsxs("div",{className:"relative rounded-lg overflow-hidden",children:[e.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-full h-auto max-h-[300px] object-cover"}),e.jsx("div",{className:"absolute bottom-0 left-0 p-3 bg-gradient-to-t from-black/70 to-transparent w-full",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white text-sm",children:r.source}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 text-white mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-white text-sm",children:i(r.publishedAt)})]})]})})]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300 rounded-full",children:r.category}),r.trendingScore&&e.jsxs("span",{className:"px-2 py-1 text-xs font-medium bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-300 rounded-full flex items-center",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z",clipRule:"evenodd"})}),v(r.trendingScore)]}),r.isLocalNews&&e.jsxs("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300 rounded-full flex items-center",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"Local News"]}),e.jsxs("span",{className:`text-sm flex items-center ${j(r.publishedAt)}`,children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),i(r.publishedAt)]})]}),e.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:r.summary}),e.jsx("div",{className:"mt-4 text-gray-700 dark:text-gray-300",children:r.content?e.jsx("div",{dangerouslySetInnerHTML:{__html:r.content}}):e.jsx("p",{children:r.description||"Full article content is not available at this moment. Please check back later or visit the original source."})})]}),r.keyFeatures&&r.keyFeatures.length>0&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Key Takeaways"}),e.jsx("ul",{className:"list-disc pl-5 text-gray-700 dark:text-gray-300 space-y-1",children:r.keyFeatures.map((t,d)=>e.jsx("li",{children:t},d))})]}),r.locationRelevance&&e.jsxs("div",{className:"p-3 bg-green-50 text-green-800 rounded-md dark:bg-green-900/30 dark:text-green-300 flex items-start gap-2 mt-4",children:[e.jsxs("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{children:r.locationRelevance})]}),r.url&&e.jsx("div",{className:"mt-6",children:e.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded-md shadow-sm hover:bg-blue-600 transition-colors",children:[e.jsxs("span",{children:["Read on ",r.source]}),e.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]}),a==="analysis"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg border border-blue-100 dark:border-blue-800",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"text-lg font-medium text-blue-800 dark:text-blue-300",children:"AI Summary"}),g&&e.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full"})]}),e.jsx("p",{className:"text-blue-700 dark:text-blue-200",children:g?"Generating comprehensive analysis...":h||r.aiSummary||`This article covers ${r.title}. The key points include important developments in ${r.category.toLowerCase()} and potential impacts on readers.`})]}),r.keyFeatures&&r.keyFeatures.length>0&&e.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/30 rounded-lg border border-purple-100 dark:border-purple-800",children:[e.jsx("h3",{className:"text-lg font-medium text-purple-800 dark:text-purple-300 mb-2",children:"Key Features"}),e.jsx("ul",{className:"list-disc pl-5 text-purple-700 dark:text-purple-200 space-y-1",children:r.keyFeatures.map((t,d)=>e.jsx("li",{children:t},d))})]}),r.relevanceReason&&e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/30 rounded-lg border border-green-100 dark:border-green-800",children:[e.jsx("h3",{className:"text-lg font-medium text-green-800 dark:text-green-300 mb-2",children:"Why This Matters To You"}),e.jsx("p",{className:"text-green-700 dark:text-green-200",children:r.relevanceReason})]}),e.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/30 rounded-lg border border-amber-100 dark:border-amber-800",children:[e.jsx("h3",{className:"text-lg font-medium text-amber-800 dark:text-amber-300 mb-2",children:"Article Freshness"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-amber-700 dark:text-amber-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("p",{className:`text-amber-700 dark:text-amber-200 font-medium ${j(r.publishedAt)}`,children:["Published ",i(r.publishedAt)]})]})]}),r.trendingScore&&e.jsxs("div",{className:"p-4 bg-pink-50 dark:bg-pink-900/30 rounded-lg border border-pink-100 dark:border-pink-800",children:[e.jsx("h3",{className:"text-lg font-medium text-pink-800 dark:text-pink-300 mb-2",children:"Trending Analysis"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-pink-700 dark:text-pink-200 mb-1",children:"Trending Score"}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:e.jsx("div",{className:"bg-pink-600 h-2.5 rounded-full transition-all duration-500",style:{width:`${r.trendingScore}%`}})}),e.jsxs("p",{className:"text-sm text-pink-700 dark:text-pink-200 mt-1 text-right",children:[v(r.trendingScore)," (",r.trendingScore,"%)"]})]}),e.jsxs("p",{className:"text-pink-700 dark:text-pink-200",children:["This article has ",r.trendingScore>=80?"high":"moderate"," engagement with readers interested in ",r.category,"."]})]})]})]}),a==="context"&&e.jsxs("div",{className:"space-y-4",children:[r.locationRelevance&&e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/30 rounded-lg border border-green-100 dark:border-green-800",children:[e.jsx("h3",{className:"text-lg font-medium text-green-800 dark:text-green-300 mb-2",children:"Local Impact"}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5 text-green-700 dark:text-green-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("p",{className:"text-green-700 dark:text-green-200",children:r.locationRelevance})]})]}),e.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/30 rounded-lg border border-amber-100 dark:border-amber-800",children:[e.jsx("h3",{className:"text-lg font-medium text-amber-800 dark:text-amber-300 mb-2",children:"Article Timeline"}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5 text-amber-700 dark:text-amber-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-amber-700 dark:text-amber-200",children:["This story was published ",e.jsx("span",{className:`font-medium ${j(r.publishedAt)}`,children:i(r.publishedAt)})]}),e.jsxs("p",{className:"text-amber-600 dark:text-amber-300 mt-1 text-sm",children:["It's considered ",i(r.publishedAt).includes("hour")||i(r.publishedAt).includes("Just now")||i(r.publishedAt).includes("minute")?"a very recent development":"a recent development"]})]})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Historical Context"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"This topic has been developing over several months. Similar events occurred in previous years, with varying outcomes and public reception."})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Related Topics"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[r.category,...r.category==="Technology"?["Innovation","Digital","AI"]:r.category==="Business"?["Economy","Markets","Trade"]:r.category==="Politics"?["Government","Policy","Elections"]:r.category==="Science"?["Research","Discovery","Environment"]:r.category==="Health"?["Medical","Wellness","Healthcare"]:r.category==="Sports"?["Athletics","Teams","Competition"]:r.category==="Entertainment"?["Media","Celebrities","Culture"]:r.category==="World News"?["International","Global","Diplomacy"]:["Current Events","News","Trending"]].map(t=>e.jsx("span",{className:"px-3 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-full text-sm",children:t},t))})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Similar Articles"}),e.jsx("ul",{className:"space-y-3 mt-2",children:[1,2,3].map(t=>e.jsxs("li",{className:"border-b border-gray-200 dark:border-gray-600 last:border-0 pb-2 last:pb-0",children:[e.jsxs("a",{href:"#",className:"text-blue-600 dark:text-blue-400 hover:underline",children:["Related article about ",r.title.split(" ").slice(0,3).join(" "),"..."]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Published ",Math.floor(Math.random()*Math.min(7,t+1))+1," days ago"]})]},t))})]})]})]})]})}function X(){const r=E(),{user:m}=R(),[a,x]=n.useState(null),[h,p]=n.useState([]),[g,f]=n.useState(!0),[y,v]=n.useState(""),[i,j]=n.useState("All"),[t,d]=n.useState(null),[b,u]=n.useState(null),[l,k]=n.useState(null),w=["All","Local","Technology","Business","Politics","Science","Health","Sports","Entertainment","World News"];n.useEffect(()=>{(async()=>{try{if(m){const c=await P(m.id);console.log("User preferences:",c),x(c);const N=await D(m.id);N&&(console.log("User location:",N),k(N))}else console.log("No user found, using default preferences"),x({categories:["Technology","Business"]})}catch(c){console.error("Error fetching preferences:",c),x({categories:["Technology","Business"]})}})()},[m]),n.useEffect(()=>{a&&(async()=>{f(!0),v("");try{await new Promise(W=>setTimeout(W,800));const N=await U(i==="All"?null:i,l||void 0);p(N)}catch(c){v(c.message||"Failed to fetch articles"),console.error("Error fetching articles:",c)}finally{f(!1)}})()},[i,a,l]);const C=s=>{j(s)},S=()=>{r("/profile")},M=s=>{d(s)},L=()=>{d(null)},T=s=>{u(b===s?null:s)},z={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},B={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white dark:from-gray-900 dark:to-gray-800 transition-colors duration-200",children:[e.jsx(V,{}),e.jsx("header",{className:"sticky top-0 z-10 bg-white dark:bg-gray-800 shadow-md border-b border-gray-200 dark:border-gray-700 backdrop-blur-md bg-opacity-90 dark:bg-opacity-90",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o.h1,{className:"text-2xl font-bold tracking-tight text-blue-600 dark:text-blue-400",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:"NewspaperAI"}),e.jsx(o.span,{className:"bg-blue-100 text-blue-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.3},children:"Beta"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(G,{onSearch:s=>r(`/search?q=${s}`)}),e.jsx($,{}),e.jsx(o.button,{onClick:S,className:"flex items-center justify-center w-10 h-10 rounded-full bg-blue-100 hover:bg-blue-200 text-blue-800 dark:bg-blue-900 dark:hover:bg-blue-800 dark:text-blue-300 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})]}),l&&e.jsxs(o.div,{className:"mt-2 text-sm text-gray-600 dark:text-gray-300 flex items-center",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.3},children:[e.jsxs("svg",{className:"w-4 h-4 mr-1 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{children:l.city||l.region||`${l.latitude.toFixed(2)}, ${l.longitude.toFixed(2)}`})]}),e.jsx("div",{className:"mt-4 overflow-x-auto hide-scrollbar",children:e.jsx("div",{className:"flex space-x-2 pb-1",children:w.map((s,c)=>e.jsx(o.button,{onClick:()=>C(s),className:`whitespace-nowrap px-4 py-2 rounded-full text-sm font-medium transition-colors ${i===s?"bg-blue-500 text-white shadow-sm dark:bg-blue-600":"bg-white text-gray-700 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600 border border-gray-200 dark:border-gray-600"}`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1+c*.05},whileHover:{y:-2},whileTap:{y:0},children:s==="Local"?e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{children:s})]}):s},s))})})]})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[g&&e.jsx("div",{className:"flex justify-center items-center py-20",children:e.jsx(F,{size:"large"})}),y&&!g&&e.jsx(o.div,{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 text-red-800 dark:text-red-300 rounded-lg p-4 my-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsx("span",{children:y})]})}),!g&&!y&&h.length===0&&e.jsxs(o.div,{className:"text-center py-20",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1M19 20a2 2 0 002-2V8a2 2 0 00-2-2h-5a2 2 0 00-2 2v10a2 2 0 002 2h5zM2 10h8"})}),e.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900 dark:text-gray-100",children:"No articles found"}),e.jsx("p",{className:"mt-1 text-gray-500 dark:text-gray-400",children:"Try selecting a different category or updating your preferences."})]}),!g&&!y&&h.length>0&&e.jsx(o.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",variants:z,initial:"hidden",animate:"visible",children:e.jsx(A,{children:h.map(s=>e.jsx(o.div,{variants:B,layout:!0,transition:{type:"spring",damping:20},children:e.jsx(I,{article:s,onClick:()=>M(s),onExpandClick:()=>T(s.id),isExpanded:b===s.id})},s.id))})})]}),t&&e.jsx(A,{children:e.jsxs(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 overflow-y-auto overflow-x-hidden flex items-center justify-center",children:[e.jsx(o.div,{className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:L,initial:{opacity:0},animate:{opacity:1}}),e.jsx(o.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"relative w-full max-w-4xl max-h-[90vh] mx-auto my-8 overflow-hidden rounded-lg shadow-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:e.jsx(_,{article:t,onClose:L})})]})})]})}export{X as default};
