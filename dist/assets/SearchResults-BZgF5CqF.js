import{b as y,u as f,r as s,j as e}from"./index-x1QqTAow.js";import{e as j}from"./news-CwQvnLR8.js";import{L as k,a as b}from"./LoadingSpinner-C7ltJRWN.js";import{m as v}from"./proxy-_Efh1-1A.js";function S(){const[m]=y(),l=f(),a=m.get("q")||"",[d,i]=s.useState([]),[h,n]=s.useState(!0),[o,c]=s.useState(null),[x,g]=s.useState(null);s.useEffect(()=>{(async()=>{n(!0),c(null);try{if(!a.trim()){i([]);return}const t=await j(a);i(t)}catch(t){c(t.message||"Failed to fetch search results"),console.error("Error searching articles:",t)}finally{n(!1)}})()},[a]);const u=r=>{l(`/article/${r.id}`)},p=r=>{g(x===r?null:r)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white dark:from-gray-900 dark:to-gray-800",children:[e.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-md border-b border-gray-200 dark:border-gray-700 p-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>l(-1),className:"mr-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600 dark:text-gray-300",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"})})}),e.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:['Search Results for "',a,'"']})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",children:h?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx(k,{size:"large"})}):o?e.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 text-red-800 dark:text-red-300 rounded-lg p-4",children:e.jsx("p",{children:o})}):d.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900 dark:text-gray-100",children:"No results found"}),e.jsx("p",{className:"mt-1 text-gray-500 dark:text-gray-400",children:"Try using different keywords or check your spelling."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(r=>e.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:e.jsx(b,{article:r,onClick:()=>u(r),onExpandClick:()=>p(r.id),isExpanded:x===r.id})},r.id))})})]})}export{S as default};
