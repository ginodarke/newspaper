import{s as Ue}from"./index-C_b6bG7S.js";function Le(e,t){return function(){return e.apply(t,arguments)}}const{toString:ut}=Object.prototype,{getPrototypeOf:ye}=Object,{iterator:Z,toStringTag:$e}=Symbol,ee=(e=>t=>{const n=ut.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),x=e=>(e=e.toLowerCase(),t=>ee(t)===e),te=e=>t=>typeof t===e,{isArray:B}=Array,H=te("undefined");function dt(e){return e!==null&&!H(e)&&e.constructor!==null&&!H(e.constructor)&&O(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Be=x("ArrayBuffer");function ft(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Be(e.buffer),t}const ht=te("string"),O=te("function"),je=te("number"),ne=e=>e!==null&&typeof e=="object",pt=e=>e===!0||e===!1,V=e=>{if(ee(e)!=="object")return!1;const t=ye(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!($e in e)&&!(Z in e)},mt=x("Date"),gt=x("File"),yt=x("Blob"),wt=x("FileList"),bt=e=>ne(e)&&O(e.pipe),Et=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||O(e.append)&&((t=ee(e))==="formdata"||t==="object"&&O(e.toString)&&e.toString()==="[object FormData]"))},St=x("URLSearchParams"),[At,Tt,Rt,Ot]=["ReadableStream","Request","Response","Headers"].map(x),Nt=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function W(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),B(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function qe(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const M=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,He=e=>!H(e)&&e!==M;function de(){const{caseless:e}=He(this)&&this||{},t={},n=(r,s)=>{const i=e&&qe(t,s)||s;V(t[i])&&V(r)?t[i]=de(t[i],r):V(r)?t[i]=de({},r):B(r)?t[i]=r.slice():t[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&W(arguments[r],n);return t}const xt=(e,t,n,{allOwnKeys:r}={})=>(W(t,(s,i)=>{n&&O(s)?e[i]=Le(s,n):e[i]=s},{allOwnKeys:r}),e),Pt=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),_t=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Ct=(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&ye(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kt=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},It=e=>{if(!e)return null;if(B(e))return e;let t=e.length;if(!je(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Ft=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ye(Uint8Array)),Dt=(e,t)=>{const r=(e&&e[Z]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},Mt=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},vt=x("HTMLFormElement"),Ut=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Se=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Lt=x("RegExp"),We=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};W(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},$t=e=>{We(e,(t,n)=>{if(O(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(O(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Bt=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return B(e)?r(e):r(String(e).split(t)),n},jt=()=>{},qt=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ht(e){return!!(e&&O(e.append)&&e[$e]==="FormData"&&e[Z])}const Wt=e=>{const t=new Array(10),n=(r,s)=>{if(ne(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const i=B(r)?[]:{};return W(r,(o,a)=>{const d=n(o,s+1);!H(d)&&(i[a]=d)}),t[s]=void 0,i}}return r};return n(e,0)},zt=x("AsyncFunction"),Jt=e=>e&&(ne(e)||O(e))&&O(e.then)&&O(e.catch),ze=((e,t)=>e?setImmediate:t?((n,r)=>(M.addEventListener("message",({source:s,data:i})=>{s===M&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),M.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",O(M.postMessage)),Kt=typeof queueMicrotask<"u"?queueMicrotask.bind(M):typeof process<"u"&&process.nextTick||ze,Vt=e=>e!=null&&O(e[Z]),c={isArray:B,isArrayBuffer:Be,isBuffer:dt,isFormData:Et,isArrayBufferView:ft,isString:ht,isNumber:je,isBoolean:pt,isObject:ne,isPlainObject:V,isReadableStream:At,isRequest:Tt,isResponse:Rt,isHeaders:Ot,isUndefined:H,isDate:mt,isFile:gt,isBlob:yt,isRegExp:Lt,isFunction:O,isStream:bt,isURLSearchParams:St,isTypedArray:Ft,isFileList:wt,forEach:W,merge:de,extend:xt,trim:Nt,stripBOM:Pt,inherits:_t,toFlatObject:Ct,kindOf:ee,kindOfTest:x,endsWith:kt,toArray:It,forEachEntry:Dt,matchAll:Mt,isHTMLForm:vt,hasOwnProperty:Se,hasOwnProp:Se,reduceDescriptors:We,freezeMethods:$t,toObjectSet:Bt,toCamelCase:Ut,noop:jt,toFiniteNumber:qt,findKey:qe,global:M,isContextDefined:He,isSpecCompliantForm:Ht,toJSONObject:Wt,isAsyncFn:zt,isThenable:Jt,setImmediate:ze,asap:Kt,isIterable:Vt};function m(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}c.inherits(m,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:c.toJSONObject(this.config),code:this.code,status:this.status}}});const Je=m.prototype,Ke={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ke[e]={value:e}});Object.defineProperties(m,Ke);Object.defineProperty(Je,"isAxiosError",{value:!0});m.from=(e,t,n,r,s,i)=>{const o=Object.create(Je);return c.toFlatObject(e,o,function(d){return d!==Error.prototype},a=>a!=="isAxiosError"),m.call(o,e.message,t,n,r,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const Yt=null;function fe(e){return c.isPlainObject(e)||c.isArray(e)}function Ve(e){return c.endsWith(e,"[]")?e.slice(0,-2):e}function Ae(e,t,n){return e?e.concat(t).map(function(s,i){return s=Ve(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function Gt(e){return c.isArray(e)&&!e.some(fe)}const Xt=c.toFlatObject(c,{},null,function(t){return/^is[A-Z]/.test(t)});function re(e,t,n){if(!c.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=c.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,p){return!c.isUndefined(p[g])});const r=n.metaTokens,s=n.visitor||l,i=n.dots,o=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&c.isSpecCompliantForm(t);if(!c.isFunction(s))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(c.isDate(h))return h.toISOString();if(!d&&c.isBlob(h))throw new m("Blob is not supported. Use a Buffer instead.");return c.isArrayBuffer(h)||c.isTypedArray(h)?d&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function l(h,g,p){let E=h;if(h&&!p&&typeof h=="object"){if(c.endsWith(g,"{}"))g=r?g:g.slice(0,-2),h=JSON.stringify(h);else if(c.isArray(h)&&Gt(h)||(c.isFileList(h)||c.endsWith(g,"[]"))&&(E=c.toArray(h)))return g=Ve(g),E.forEach(function(A,C){!(c.isUndefined(A)||A===null)&&t.append(o===!0?Ae([g],C,i):o===null?g:g+"[]",u(A))}),!1}return fe(h)?!0:(t.append(Ae(p,g,i),u(h)),!1)}const f=[],y=Object.assign(Xt,{defaultVisitor:l,convertValue:u,isVisitable:fe});function b(h,g){if(!c.isUndefined(h)){if(f.indexOf(h)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(h),c.forEach(h,function(E,S){(!(c.isUndefined(E)||E===null)&&s.call(t,E,c.isString(S)?S.trim():S,g,y))===!0&&b(E,g?g.concat(S):[S])}),f.pop()}}if(!c.isObject(e))throw new TypeError("data must be an object");return b(e),t}function Te(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function we(e,t){this._pairs=[],e&&re(e,this,t)}const Ye=we.prototype;Ye.append=function(t,n){this._pairs.push([t,n])};Ye.toString=function(t){const n=t?function(r){return t.call(this,r,Te)}:Te;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Qt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ge(e,t,n){if(!t)return e;const r=n&&n.encode||Qt;c.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=c.isURLSearchParams(t)?t.toString():new we(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Re{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){c.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Xe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zt=typeof URLSearchParams<"u"?URLSearchParams:we,en=typeof FormData<"u"?FormData:null,tn=typeof Blob<"u"?Blob:null,nn={isBrowser:!0,classes:{URLSearchParams:Zt,FormData:en,Blob:tn},protocols:["http","https","file","blob","url","data"]},be=typeof window<"u"&&typeof document<"u",he=typeof navigator=="object"&&navigator||void 0,rn=be&&(!he||["ReactNative","NativeScript","NS"].indexOf(he.product)<0),sn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",on=be&&window.location.href||"http://localhost",an=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:be,hasStandardBrowserEnv:rn,hasStandardBrowserWebWorkerEnv:sn,navigator:he,origin:on},Symbol.toStringTag,{value:"Module"})),T={...an,...nn};function cn(e,t){return re(e,new T.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return T.isNode&&c.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function ln(e){return c.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function un(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function Qe(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),d=i>=n.length;return o=!o&&c.isArray(s)?s.length:o,d?(c.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!c.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&c.isArray(s[o])&&(s[o]=un(s[o])),!a)}if(c.isFormData(e)&&c.isFunction(e.entries)){const n={};return c.forEachEntry(e,(r,s)=>{t(ln(r),s,n,0)}),n}return null}function dn(e,t,n){if(c.isString(e))try{return(t||JSON.parse)(e),c.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const z={transitional:Xe,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=c.isObject(t);if(i&&c.isHTMLForm(t)&&(t=new FormData(t)),c.isFormData(t))return s?JSON.stringify(Qe(t)):t;if(c.isArrayBuffer(t)||c.isBuffer(t)||c.isStream(t)||c.isFile(t)||c.isBlob(t)||c.isReadableStream(t))return t;if(c.isArrayBufferView(t))return t.buffer;if(c.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return cn(t,this.formSerializer).toString();if((a=c.isFileList(t))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return re(a?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),dn(t)):t}],transformResponse:[function(t){const n=this.transitional||z.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(c.isResponse(t)||c.isReadableStream(t))return t;if(t&&c.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?m.from(a,m.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:T.classes.FormData,Blob:T.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};c.forEach(["delete","get","head","post","put","patch"],e=>{z.headers[e]={}});const fn=c.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hn=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&fn[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Oe=Symbol("internals");function q(e){return e&&String(e).trim().toLowerCase()}function Y(e){return e===!1||e==null?e:c.isArray(e)?e.map(Y):String(e)}function pn(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const mn=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ce(e,t,n,r,s){if(c.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!c.isString(t)){if(c.isString(r))return t.indexOf(r)!==-1;if(c.isRegExp(r))return r.test(t)}}function gn(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function yn(e,t){const n=c.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let N=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,d,u){const l=q(d);if(!l)throw new Error("header name must be a non-empty string");const f=c.findKey(s,l);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||d]=Y(a))}const o=(a,d)=>c.forEach(a,(u,l)=>i(u,l,d));if(c.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(c.isString(t)&&(t=t.trim())&&!mn(t))o(hn(t),n);else if(c.isObject(t)&&c.isIterable(t)){let a={},d,u;for(const l of t){if(!c.isArray(l))throw TypeError("Object iterator must return a key-value pair");a[u=l[0]]=(d=a[u])?c.isArray(d)?[...d,l[1]]:[d,l[1]]:l[1]}o(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=q(t),t){const r=c.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return pn(s);if(c.isFunction(n))return n.call(this,s,r);if(c.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=q(t),t){const r=c.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||ce(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=q(o),o){const a=c.findKey(r,o);a&&(!n||ce(r,r[a],a,n))&&(delete r[a],s=!0)}}return c.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||ce(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return c.forEach(this,(s,i)=>{const o=c.findKey(r,i);if(o){n[o]=Y(s),delete n[i];return}const a=t?gn(i):String(i).trim();a!==i&&delete n[i],n[a]=Y(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return c.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&c.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Oe]=this[Oe]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=q(o);r[a]||(yn(s,o),r[a]=!0)}return c.isArray(t)?t.forEach(i):i(t),this}};N.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);c.reduceDescriptors(N.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});c.freezeMethods(N);function le(e,t){const n=this||z,r=t||n,s=N.from(r.headers);let i=r.data;return c.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Ze(e){return!!(e&&e.__CANCEL__)}function j(e,t,n){m.call(this,e??"canceled",m.ERR_CANCELED,t,n),this.name="CanceledError"}c.inherits(j,m,{__CANCEL__:!0});function et(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new m("Request failed with status code "+n.status,[m.ERR_BAD_REQUEST,m.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function wn(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function bn(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(d){const u=Date.now(),l=r[i];o||(o=u),n[s]=d,r[s]=u;let f=i,y=0;for(;f!==s;)y+=n[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const b=l&&u-l;return b?Math.round(y*1e3/b):void 0}}function En(e,t){let n=0,r=1e3/t,s,i;const o=(u,l=Date.now())=>{n=l,s=null,i&&(clearTimeout(i),i=null),e.apply(null,u)};return[(...u)=>{const l=Date.now(),f=l-n;f>=r?o(u,l):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const X=(e,t,n=3)=>{let r=0;const s=bn(50,250);return En(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,d=o-r,u=s(d),l=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:d,rate:u||void 0,estimated:u&&a&&l?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},n)},Ne=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},xe=e=>(...t)=>c.asap(()=>e(...t)),Sn=T.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,T.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(T.origin),T.navigator&&/(msie|trident)/i.test(T.navigator.userAgent)):()=>!0,An=T.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const o=[e+"="+encodeURIComponent(t)];c.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),c.isString(r)&&o.push("path="+r),c.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Tn(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Rn(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function tt(e,t,n){let r=!Tn(t);return e&&(r||n==!1)?Rn(e,t):t}const Pe=e=>e instanceof N?{...e}:e;function U(e,t){t=t||{};const n={};function r(u,l,f,y){return c.isPlainObject(u)&&c.isPlainObject(l)?c.merge.call({caseless:y},u,l):c.isPlainObject(l)?c.merge({},l):c.isArray(l)?l.slice():l}function s(u,l,f,y){if(c.isUndefined(l)){if(!c.isUndefined(u))return r(void 0,u,f,y)}else return r(u,l,f,y)}function i(u,l){if(!c.isUndefined(l))return r(void 0,l)}function o(u,l){if(c.isUndefined(l)){if(!c.isUndefined(u))return r(void 0,u)}else return r(void 0,l)}function a(u,l,f){if(f in t)return r(u,l);if(f in e)return r(void 0,u)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,l,f)=>s(Pe(u),Pe(l),f,!0)};return c.forEach(Object.keys(Object.assign({},e,t)),function(l){const f=d[l]||s,y=f(e[l],t[l],l);c.isUndefined(y)&&f!==a||(n[l]=y)}),n}const nt=e=>{const t=U({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;t.headers=o=N.from(o),t.url=Ge(tt(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let d;if(c.isFormData(n)){if(T.hasStandardBrowserEnv||T.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[u,...l]=d?d.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...l].join("; "))}}if(T.hasStandardBrowserEnv&&(r&&c.isFunction(r)&&(r=r(t)),r||r!==!1&&Sn(t.url))){const u=s&&i&&An.read(i);u&&o.set(s,u)}return t},On=typeof XMLHttpRequest<"u",Nn=On&&function(e){return new Promise(function(n,r){const s=nt(e);let i=s.data;const o=N.from(s.headers).normalize();let{responseType:a,onUploadProgress:d,onDownloadProgress:u}=s,l,f,y,b,h;function g(){b&&b(),h&&h(),s.cancelToken&&s.cancelToken.unsubscribe(l),s.signal&&s.signal.removeEventListener("abort",l)}let p=new XMLHttpRequest;p.open(s.method.toUpperCase(),s.url,!0),p.timeout=s.timeout;function E(){if(!p)return;const A=N.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),R={data:!a||a==="text"||a==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:A,config:e,request:p};et(function(D){n(D),g()},function(D){r(D),g()},R),p=null}"onloadend"in p?p.onloadend=E:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(E)},p.onabort=function(){p&&(r(new m("Request aborted",m.ECONNABORTED,e,p)),p=null)},p.onerror=function(){r(new m("Network Error",m.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let C=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const R=s.transitional||Xe;s.timeoutErrorMessage&&(C=s.timeoutErrorMessage),r(new m(C,R.clarifyTimeoutError?m.ETIMEDOUT:m.ECONNABORTED,e,p)),p=null},i===void 0&&o.setContentType(null),"setRequestHeader"in p&&c.forEach(o.toJSON(),function(C,R){p.setRequestHeader(R,C)}),c.isUndefined(s.withCredentials)||(p.withCredentials=!!s.withCredentials),a&&a!=="json"&&(p.responseType=s.responseType),u&&([y,h]=X(u,!0),p.addEventListener("progress",y)),d&&p.upload&&([f,b]=X(d),p.upload.addEventListener("progress",f),p.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(l=A=>{p&&(r(!A||A.type?new j(null,e,p):A),p.abort(),p=null)},s.cancelToken&&s.cancelToken.subscribe(l),s.signal&&(s.signal.aborted?l():s.signal.addEventListener("abort",l)));const S=wn(s.url);if(S&&T.protocols.indexOf(S)===-1){r(new m("Unsupported protocol "+S+":",m.ERR_BAD_REQUEST,e));return}p.send(i||null)})},xn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,a();const l=u instanceof Error?u:this.reason;r.abort(l instanceof m?l:new j(l instanceof Error?l.message:l))}};let o=t&&setTimeout(()=>{o=null,i(new m(`timeout ${t} of ms exceeded`,m.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:d}=r;return d.unsubscribe=()=>c.asap(a),d}},Pn=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},_n=async function*(e,t){for await(const n of Cn(e))yield*Pn(n,t)},Cn=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},_e=(e,t,n,r)=>{const s=_n(e,t);let i=0,o,a=d=>{o||(o=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:u,value:l}=await s.next();if(u){a(),d.close();return}let f=l.byteLength;if(n){let y=i+=f;n(y)}d.enqueue(new Uint8Array(l))}catch(u){throw a(u),u}},cancel(d){return a(d),s.return()}},{highWaterMark:2})},se=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",rt=se&&typeof ReadableStream=="function",kn=se&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),st=(e,...t)=>{try{return!!e(...t)}catch{return!1}},In=rt&&st(()=>{let e=!1;const t=new Request(T.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Ce=64*1024,pe=rt&&st(()=>c.isReadableStream(new Response("").body)),Q={stream:pe&&(e=>e.body)};se&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Q[t]&&(Q[t]=c.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new m(`Response type '${t}' is not supported`,m.ERR_NOT_SUPPORT,r)})})})(new Response);const Fn=async e=>{if(e==null)return 0;if(c.isBlob(e))return e.size;if(c.isSpecCompliantForm(e))return(await new Request(T.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(c.isArrayBufferView(e)||c.isArrayBuffer(e))return e.byteLength;if(c.isURLSearchParams(e)&&(e=e+""),c.isString(e))return(await kn(e)).byteLength},Dn=async(e,t)=>{const n=c.toFiniteNumber(e.getContentLength());return n??Fn(t)},Mn=se&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:d,responseType:u,headers:l,withCredentials:f="same-origin",fetchOptions:y}=nt(e);u=u?(u+"").toLowerCase():"text";let b=xn([s,i&&i.toAbortSignal()],o),h;const g=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let p;try{if(d&&In&&n!=="get"&&n!=="head"&&(p=await Dn(l,r))!==0){let R=new Request(t,{method:"POST",body:r,duplex:"half"}),k;if(c.isFormData(r)&&(k=R.headers.get("content-type"))&&l.setContentType(k),R.body){const[D,K]=Ne(p,X(xe(d)));r=_e(R.body,Ce,D,K)}}c.isString(f)||(f=f?"include":"omit");const E="credentials"in Request.prototype;h=new Request(t,{...y,signal:b,method:n.toUpperCase(),headers:l.normalize().toJSON(),body:r,duplex:"half",credentials:E?f:void 0});let S=await fetch(h);const A=pe&&(u==="stream"||u==="response");if(pe&&(a||A&&g)){const R={};["status","statusText","headers"].forEach(Ee=>{R[Ee]=S[Ee]});const k=c.toFiniteNumber(S.headers.get("content-length")),[D,K]=a&&Ne(k,X(xe(a),!0))||[];S=new Response(_e(S.body,Ce,D,()=>{K&&K(),g&&g()}),R)}u=u||"text";let C=await Q[c.findKey(Q,u)||"text"](S,e);return!A&&g&&g(),await new Promise((R,k)=>{et(R,k,{data:C,headers:N.from(S.headers),status:S.status,statusText:S.statusText,config:e,request:h})})}catch(E){throw g&&g(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new m("Network Error",m.ERR_NETWORK,e,h),{cause:E.cause||E}):m.from(E,E&&E.code,e,h)}}),me={http:Yt,xhr:Nn,fetch:Mn};c.forEach(me,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ke=e=>`- ${e}`,vn=e=>c.isFunction(e)||e===null||e===!1,ot={getAdapter:e=>{e=c.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!vn(n)&&(r=me[(o=String(n)).toLowerCase()],r===void 0))throw new m(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,d])=>`adapter ${a} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(ke).join(`
`):" "+ke(i[0]):"as no adapter specified";throw new m("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:me};function ue(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new j(null,e)}function Ie(e){return ue(e),e.headers=N.from(e.headers),e.data=le.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ot.getAdapter(e.adapter||z.adapter)(e).then(function(r){return ue(e),r.data=le.call(e,e.transformResponse,r),r.headers=N.from(r.headers),r},function(r){return Ze(r)||(ue(e),r&&r.response&&(r.response.data=le.call(e,e.transformResponse,r.response),r.response.headers=N.from(r.response.headers))),Promise.reject(r)})}const it="1.9.0",oe={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{oe[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Fe={};oe.transitional=function(t,n,r){function s(i,o){return"[Axios v"+it+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new m(s(o," has been removed"+(n?" in "+n:"")),m.ERR_DEPRECATED);return n&&!Fe[o]&&(Fe[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};oe.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Un(e,t,n){if(typeof e!="object")throw new m("options must be an object",m.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const a=e[i],d=a===void 0||o(a,i,e);if(d!==!0)throw new m("option "+i+" must be "+d,m.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new m("Unknown option "+i,m.ERR_BAD_OPTION)}}const G={assertOptions:Un,validators:oe},P=G.validators;let v=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Re,response:new Re}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=U(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&G.assertOptions(r,{silentJSONParsing:P.transitional(P.boolean),forcedJSONParsing:P.transitional(P.boolean),clarifyTimeoutError:P.transitional(P.boolean)},!1),s!=null&&(c.isFunction(s)?n.paramsSerializer={serialize:s}:G.assertOptions(s,{encode:P.function,serialize:P.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),G.assertOptions(n,{baseUrl:P.spelling("baseURL"),withXsrfToken:P.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&c.merge(i.common,i[n.method]);i&&c.forEach(["delete","get","head","post","put","patch","common"],h=>{delete i[h]}),n.headers=N.concat(o,i);const a=[];let d=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(d=d&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let l,f=0,y;if(!d){const h=[Ie.bind(this),void 0];for(h.unshift.apply(h,a),h.push.apply(h,u),y=h.length,l=Promise.resolve(n);f<y;)l=l.then(h[f++],h[f++]);return l}y=a.length;let b=n;for(f=0;f<y;){const h=a[f++],g=a[f++];try{b=h(b)}catch(p){g.call(this,p);break}}try{l=Ie.call(this,b)}catch(h){return Promise.reject(h)}for(f=0,y=u.length;f<y;)l=l.then(u[f++],u[f++]);return l}getUri(t){t=U(this.defaults,t);const n=tt(t.baseURL,t.url,t.allowAbsoluteUrls);return Ge(n,t.params,t.paramsSerializer)}};c.forEach(["delete","get","head","options"],function(t){v.prototype[t]=function(n,r){return this.request(U(r||{},{method:t,url:n,data:(r||{}).data}))}});c.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,a){return this.request(U(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}v.prototype[t]=n(),v.prototype[t+"Form"]=n(!0)});let Ln=class at{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new j(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new at(function(s){t=s}),cancel:t}}};function $n(e){return function(n){return e.apply(null,n)}}function Bn(e){return c.isObject(e)&&e.isAxiosError===!0}const ge={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ge).forEach(([e,t])=>{ge[t]=e});function ct(e){const t=new v(e),n=Le(v.prototype.request,t);return c.extend(n,v.prototype,t,{allOwnKeys:!0}),c.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return ct(U(e,s))},n}const w=ct(z);w.Axios=v;w.CanceledError=j;w.CancelToken=Ln;w.isCancel=Ze;w.VERSION=it;w.toFormData=re;w.AxiosError=m;w.Cancel=w.CanceledError;w.all=function(t){return Promise.all(t)};w.spread=$n;w.isAxiosError=Bn;w.mergeConfig=U;w.AxiosHeaders=N;w.formToJSON=e=>Qe(c.isHTMLForm(e)?new FormData(e):e);w.getAdapter=ot.getAdapter;w.HttpStatusCode=ge;w.default=w;const{Axios:Yn,AxiosError:Gn,CanceledError:Xn,isCancel:Qn,CancelToken:Zn,VERSION:er,all:tr,Cancel:nr,isAxiosError:rr,spread:sr,toFormData:or,AxiosHeaders:ir,HttpStatusCode:ar,formToJSON:cr,getAdapter:lr,mergeConfig:ur}=w;var _={};const L={THENEWSAPI:"https://api.thenewsapi.com/v1/news",NEWSDATA:"https://newsdata.io/api/1/news",NEWSAPI:"https://newsapi.org/v2",APITUBE:"https://api.apitube.io/v1/news"},I=10,lt="us",F=1;function J(e){const t=new Date;return t.setDate(t.getDate()-e),t.toISOString().split("T")[0]}async function dr(e){var t,n;try{const r=e.page||1,s=e.pageSize||10,i=e.category||((n=(t=e.userPreferences)==null?void 0:t.categories)==null?void 0:n[0])||null,o=e.location;console.log(`Fetching articles: page=${r}, pageSize=${s}, category=${i||"All"}`);try{const y=await jn(i,o),b=(r-1)*s,h=b+s;return{articles:y.slice(b,h),totalResults:y.length}}catch(y){console.error("Error fetching real articles, falling back to mocks:",y)}const a=ae(),d=i?a.filter(y=>y.category===i):a,u=(r-1)*s,l=u+s;return{articles:d.slice(u,l),totalResults:d.length}}catch(r){return console.error("Error in getArticles:",r),{articles:[],totalResults:0}}}async function jn(e=null,t){try{if(console.log(`Fetching articles for category: ${e||"All"}, location: ${t?JSON.stringify(t):"None"}`),t&&(!e||e==="Local"))try{console.log("Attempting to fetch local news based on user location");const r=await qn(t);if(r.length>=I)return console.log(`Found ${r.length} local articles`),await Me(r,t)}catch(r){console.error("Error fetching local news:",r)}const n=[{name:"TheNewsAPI",fetchFn:Hn},{name:"NewsDataIO",fetchFn:Wn},{name:"NewsAPI",fetchFn:zn}];for(const r of n)try{console.log(`Attempting to fetch articles from ${r.name}`);const s=await r.fetchFn(e,t);if(s.length>=I)return console.log(`Found ${s.length} articles from ${r.name}`),await Me(s,t)}catch(s){console.error(`Error fetching from ${r.name}:`,s)}return console.log("All API attempts failed, using mock data"),ve(e)}catch(n){return console.error("Error in getArticles:",n),ve(e)}}async function qn(e){try{const t=e.city||"",n=e.region||"",r=e.country||"";let s="";if(t&&t.length>0?(s=t,n&&n.length>0&&(s+=` ${n}`)):n&&n.length>0?s=n:r&&r.length>0&&(s=r),!s)return console.log("Insufficient location data for local news"),[];console.log(`Fetching local news for: ${s}`);const i=J(F);try{const o=`${L.NEWSDATA}`,a={apikey:_.VITE_NEWSDATA_KEY||void 0,language:"en",q:s,category:"top",size:I*2,from_date:i,timeframe:`${F}d`},d=await w.get(o,{params:a});if(d.data&&d.data.results&&d.data.results.length>0){const u=d.data.results.map(l=>{var f;return{id:l.article_id||String(Math.random()),title:l.title,category:"Local",source:l.source_id||"NewsData.io",url:l.link,imageUrl:l.image_url,summary:l.description||l.content,content:l.content,description:l.description,publishedAt:l.pubDate||new Date(2025,0,Math.floor(Math.random()*30)+1).toISOString(),relevanceReason:`This is happening in ${t||n||r||"your area"}.`,isLocalNews:!0,locationRelevance:`This directly affects ${t||n||r||"your area"}.`,trendingScore:Math.floor(Math.random()*20)+80,keyFeatures:$(l.description||l.content||l.title),readTime:Math.ceil(Math.random()*6)+1,views:Math.floor(Math.random()*2e3)+500,author:{name:((f=l.creator)==null?void 0:f[0])||"Local Reporter",avatar:"https://source.unsplash.com/random/100x100?reporter"}}});return console.log(`Found ${u.length} local articles from NewsData.io`),u}}catch(o){console.error("Error fetching from NewsData.io for local news:",o)}try{const o=`${L.THENEWSAPI}/all`,a={api_token:_.VITE_THENEWSAPI_KEY||void 0,language:"en",search:s,limit:I*2,published_after:i},d=await w.get(o,{params:a});if(d.data&&d.data.data&&d.data.data.length>0){const u=d.data.data.map(l=>({id:l.uuid||l.id||String(Math.random()),title:l.title,category:"Local",source:l.source||"TheNewsAPI",url:l.url,imageUrl:l.image_url,summary:l.description||l.snippet,content:l.content||l.snippet,description:l.description||l.snippet,publishedAt:l.published_at||new Date(2025,0,Math.floor(Math.random()*30)+1).toISOString(),relevanceReason:`This is happening in ${t||n||r||"your area"}.`,isLocalNews:!0,locationRelevance:`This news impacts ${t||n||r||"your area"} directly.`,trendingScore:Math.floor(Math.random()*20)+80,keyFeatures:$(l.description||l.snippet||l.title)}));return console.log(`Found ${u.length} local articles from TheNewsAPI`),u}}catch(o){console.error("Error fetching from TheNewsAPI for local news:",o)}return console.log("No local news found from APIs, generating mock data"),De(e)}catch(t){return console.error("Error fetching local news:",t),De(e)}}function De(e){const t=e.city||"your city",n=e.region||"your region";return[{id:`local-1-${Math.random()}`,title:`New Community Center Opening in ${t}`,description:`The new facility will provide recreational services to residents of ${t} starting next month.`,content:`${t} officials announced today that the long-awaited community center will open its doors on June 15. The center, which cost $2.5 million to build, features a swimming pool, gymnasium, and multipurpose rooms for classes and events. Mayor Johnson stated, "This center represents our commitment to improving quality of life for all residents." A grand opening celebration is planned with free activities for families.`,imageUrl:"https://source.unsplash.com/random/800x600?community+center",category:"Local",publishedAt:new Date(2025,0,Math.floor(Math.random()*31)).toISOString(),source:"Local News Network",url:"https://example.com/local1",isLocalNews:!0,relevanceReason:`This is happening in ${t}.`,locationRelevance:`New recreational facilities in ${t}.`,readTime:3,views:456,author:{name:"Local Reporter",avatar:"https://source.unsplash.com/random/100x100?reporter"},keyFeatures:[`New community center opening in ${t}`,"Features include swimming pool and gymnasium","Grand opening celebration planned with free activities"],trendingScore:85},{id:`local-2-${Math.random()}`,title:`${n} School District Announces New Educational Initiative`,description:`Schools in ${n} will implement a new STEM-focused curriculum starting in the next academic year.`,content:`The ${n} School District has secured a $1.2 million grant to enhance science, technology, engineering, and mathematics (STEM) education across all grade levels. The initiative includes new lab equipment, teacher training, and partnerships with local technology companies. "Our goal is to prepare students for the jobs of tomorrow," said Superintendent Williams. Parents are invited to information sessions scheduled for next month.`,imageUrl:"https://source.unsplash.com/random/800x600?school",category:"Local",publishedAt:new Date(2025,0,Math.floor(Math.random()*31)).toISOString(),source:"Education Today",url:"https://example.com/local2",isLocalNews:!0,relevanceReason:`This affects schools in ${n}.`,locationRelevance:`Educational changes in ${n} schools.`,readTime:4,views:789,author:{name:"Education Reporter",avatar:"https://source.unsplash.com/random/100x100?teacher"},keyFeatures:[`${n} schools receiving $1.2 million STEM grant`,"New curriculum affects all grade levels","Parent information sessions planned"],trendingScore:82},{id:`local-3-${Math.random()}`,title:`Local Business Expansion Creates Jobs in ${t}`,description:`TechSolutions Inc. is expanding its operations in ${t}, creating over 100 new jobs.`,content:`In a boost to the local economy, TechSolutions Inc. announced plans to expand its ${t} office, creating 120 new jobs over the next year. The company, which specializes in software development, cited the area's growing tech talent pool as a key factor in their decision. "We're excited to deepen our roots in this community," said CEO Sarah Chen. The expansion includes a new 15,000-square-foot office space downtown. Applications for the new positions will open next month.`,imageUrl:"https://source.unsplash.com/random/800x600?office",category:"Local",publishedAt:new Date(2025,0,Math.floor(Math.random()*31)).toISOString(),source:"Business Weekly",url:"https://example.com/local3",isLocalNews:!0,relevanceReason:`This creates new job opportunities in ${t}.`,locationRelevance:`Economic development in ${t}.`,readTime:3,views:1023,author:{name:"Business Reporter",avatar:"https://source.unsplash.com/random/100x100?business"},keyFeatures:[`TechSolutions Inc. creating 120 new jobs in ${t}`,"New 15,000-square-foot office space downtown","Applications opening next month"],trendingScore:90}]}async function Hn(e=null,t){let n=`${L.THENEWSAPI}/top`;const r=J(F);let s={api_token:_.VITE_THENEWSAPI_KEY||void 0,language:"en",limit:I+5,locale:lt,published_after:r,sort:"published_at"};if(e&&e!=="All"&&e!=="Local"){const o={Technology:"tech",Business:"business",Politics:"politics",Science:"science",Health:"health",Sports:"sports",Entertainment:"entertainment","World News":"world"};s.categories=o[e]||"general"}if(t&&t.country){const o=t.country.toLowerCase();o==="united states"||o==="usa"||o==="us"?s.locale="us":o==="united kingdom"||o==="uk"||o==="gb"?s.locale="gb":o==="canada"||o==="ca"?s.locale="ca":(o==="australia"||o==="au")&&(s.locale="au")}const i=await w.get(n,{params:s});return i.data&&i.data.data&&i.data.data.length>0?i.data.data.map(o=>({id:o.uuid||o.id||String(Math.random()),title:o.title,category:e||ie(o.keywords||[]),source:o.source||"TheNewsAPI",url:o.url,imageUrl:o.image_url,summary:o.description||o.snippet,content:o.content||o.snippet,description:o.description||o.snippet,publishedAt:o.published_at||new Date().toISOString(),trendingScore:Math.floor(Math.random()*30)+70,keyFeatures:$(o.description||o.snippet||o.title)})):[]}async function Wn(e=null,t){let n=`${L.NEWSDATA}`;const r=J(F);let s={apikey:_.VITE_NEWSDATA_KEY||void 0,language:"en",size:I+5,country:"us",from_date:r,timeframe:`${F}d`};if(e&&e!=="All"&&e!=="Local"){const o={Technology:"technology",Business:"business",Politics:"politics",Science:"science",Health:"health",Sports:"sports",Entertainment:"entertainment","World News":"world"};s.category=o[e]||"top"}if(t&&t.country){const o=t.country.toLowerCase();o==="united states"||o==="usa"||o==="us"?s.country="us":o==="united kingdom"||o==="uk"?s.country="gb":o==="canada"?s.country="ca":o==="australia"&&(s.country="au")}const i=await w.get(n,{params:s});return i.data&&i.data.results&&i.data.results.length>0?i.data.results.map(o=>({id:o.article_id||String(Math.random()),title:o.title,category:e||ie(o.keywords||[]),source:o.source_id||"NewsData.io",url:o.link,imageUrl:o.image_url,summary:o.description||o.content,content:o.content,description:o.description,publishedAt:o.pubDate||new Date().toISOString(),trendingScore:Math.floor(Math.random()*30)+70,keyFeatures:$(o.description||o.content||o.title)})):[]}function $(e){if(!e)return["Important development in this field","Potential impact on related industries","Relevant to current trends"];const t=e.split(/[.!?]/).filter(r=>r.trim().length>10),n=t.slice(0,Math.min(4,t.length)).map(r=>r.trim()).filter(r=>r.length>0);if(n.length<3){const r=["Key development in this area","Significant implications for stakeholders","Follows recent trends in the sector"];for(;n.length<3;)n.push(r[n.length%r.length])}return n}async function zn(e=null,t){try{const n=_.VITE_NEWSAPI_KEY||void 0;if(!n)return console.log("NewsAPI key not found, skipping"),[];const r=J(F);console.log(`Fetching articles published after ${r}`);let s=`${L.NEWSAPI}/top-headlines`,i={apiKey:n,language:"en",pageSize:I+5,country:lt,from:r};if(e&&e!=="All"&&e!=="Local"){const a={Technology:"technology",Business:"business",Politics:"politics",Science:"science",Health:"health",Sports:"sports",Entertainment:"entertainment","World News":"general"};i.category=a[e]||"general"}if(t&&t.country){const a=t.country.toLowerCase();a==="united states"||a==="usa"||a==="us"?i.country="us":a==="united kingdom"||a==="uk"?i.country="gb":a==="canada"?i.country="ca":a==="australia"&&(i.country="au")}console.log("NewsAPI request params:",i);const o=await w.get(s,{params:i});return o.data&&o.data.articles&&o.data.articles.length>0?(console.log(`NewsAPI returned ${o.data.articles.length} articles`),o.data.articles.map(a=>({id:`newsapi-${Math.random().toString(36).substring(2,15)}`,title:a.title,category:e||ie([a.source.name]),source:a.source.name,url:a.url,imageUrl:a.urlToImage,summary:a.description||a.title,content:a.content,description:a.description,publishedAt:a.publishedAt||new Date().toISOString(),trendingScore:Math.floor(Math.random()*30)+70,keyFeatures:$(a.description||a.content||a.title)}))):[]}catch(n){return console.error("Error in fetchFromNewsAPI:",n),[]}}async function Me(e,t){try{const n=e.slice(0,I),r=[{name:"OpenRouter",key:_.VITE_OPENROUTER_API_KEY||void 0},{name:"Claude",key:_.VITE_ANTHROPIC_API_KEY||void 0},{name:"DeepSeek",key:_.VITE_DEEPSEEK_API_KEY||void 0}];let s=null;for(const i of r)if(i.key){s=i;break}return s?e.map(i=>{const o=i.description||i.content||i.title;return{...i,aiSummary:`This article discusses ${i.category.toLowerCase()} topics that might interest you based on your preferences.`,relevanceReason:t?`This is happening near ${t.city||t.region||"your area"}.`:"This matches your interests.",readTime:i.readTime||Math.ceil(Math.random()*5)+2,views:i.views||Math.floor(Math.random()*1e3)+100,author:i.author||{name:"AI News Team",avatar:"https://source.unsplash.com/random/100x100?avatar"}}}):(console.log("No AI provider credentials found, using mock summaries"),e.map(i=>{const o=i.description||i.content||i.title;return{...i,aiSummary:`This article discusses ${i.category.toLowerCase()} topics that might interest you based on your preferences.`,relevanceReason:t?`This is happening near ${t.city||t.region||"your area"}.`:"This matches your interests.",readTime:i.readTime||Math.ceil(Math.random()*5)+2,views:i.views||Math.floor(Math.random()*1e3)+100,author:i.author||{name:"AI News Team",avatar:"https://source.unsplash.com/random/100x100?avatar"}}}))}catch(n){return console.error("Error enhancing articles with AI:",n),e}}function ie(e){if(!e||e.length===0)return"General";const t=e.map(r=>r.toLowerCase()),n=[{category:"Technology",keywords:["tech","technology","digital","software","hardware","ai","artificial intelligence","app","computer"]},{category:"Business",keywords:["business","economy","finance","market","stocks","investment","startup","company","entrepreneur"]},{category:"Politics",keywords:["politics","government","election","policy","president","congress","senate","democrat","republican"]},{category:"Science",keywords:["science","research","study","discovery","nasa","physics","biology","chemistry","astronomy"]},{category:"Health",keywords:["health","medical","doctor","hospital","disease","treatment","vaccine","medicine","wellness"]},{category:"Sports",keywords:["sports","football","basketball","soccer","baseball","nfl","nba","mlb","athlete","olympics"]},{category:"Entertainment",keywords:["entertainment","movie","film","music","celebrity","hollywood","tv","television","actor","actress"]},{category:"World News",keywords:["world","international","global","foreign","europe","asia","africa","middle east","united nations"]}];for(const r of t)for(const s of n)if(s.keywords.some(i=>r.includes(i)))return s.category;return"General"}function ve(e=null){const t=ae();return!e||e==="All"?t:t.filter(n=>n.category===e)}const fr=async(e,t)=>{try{console.log(`Searching for articles with query: "${e}"`);let n="";if(t&&t.city||t&&t.region,e=e.trim(),e.length<2)return console.log("Search query too short, returning empty results"),[];const r=ae().filter(i=>{const o=[i.title,i.description,i.content].filter(Boolean).join(" ").toLowerCase();return e.toLowerCase().split(" ").some(d=>o.includes(d))});if(r.length>=5)return console.log(`Found ${r.length} articles in simple search`),r;console.log("Not enough results in simple search, trying API search");const s=J(F);try{const i=`${L.THENEWSAPI}/all`,o={api_token:_.VITE_THENEWSAPI_KEY||void 0,language:"en",search:e+n,limit:20,published_after:s,sort:"published_at"},a=await w.get(i,{params:o});if(a.data&&a.data.data&&a.data.data.length>0)return a.data.data.map(u=>({id:u.uuid||u.id||String(Math.random()),title:u.title,category:ie(u.keywords||[]),source:u.source||"TheNewsAPI",url:u.url,imageUrl:u.image_url,summary:u.description||u.snippet,content:u.content||u.snippet,description:u.description||u.snippet,publishedAt:u.published_at||new Date().toISOString(),readTime:Math.ceil(Math.random()*5)+2,views:Math.floor(Math.random()*1e3)+100,author:{name:"News Reporter",avatar:"https://source.unsplash.com/random/100x100?reporter"}}))}catch(i){console.error("Error searching TheNewsAPI:",i)}return console.log("All search APIs failed, using filtered mock data"),r}catch(n){return console.error("Error in searchArticles:",n),[]}},hr=async(e,t)=>{try{const{error:n}=await Ue.from("user_preferences").upsert({user_id:e,categories:t.categories,sources:t.sources,location:t.location,updated_at:new Date().toISOString()});return{success:!n,error:n}}catch(n){return console.error("Error saving preferences:",n),{success:!1,error:n}}},pr=async e=>{try{const{data:t,error:n}=await Ue.from("user_preferences").select("*").eq("user_id",e).single();return n?{preferences:null,error:n}:{preferences:t?{categories:t.categories||[],sources:t.sources||[],location:t.location||""}:null,error:null}}catch(t){return console.error("Error fetching preferences:",t),{preferences:null,error:t}}},mr=async e=>{try{if(e.aiSummary)return e.aiSummary;const t=e.title,n=e.content||e.description||"",r=e.category,s=_.VITE_OPENROUTER_API_KEY||void 0;if(s){const o=`
Please provide a 2-3 sentence summary of the following article:

Title: ${t}
Category: ${r}
Content: ${n}

Your summary should be concise, informative, and capture the key points of the article.
`;try{const a=await w.post("https://openrouter.ai/api/v1/chat/completions",{model:"openai/gpt-4o",messages:[{role:"user",content:o}],temperature:.7,max_tokens:150},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(a.data&&a.data.choices&&a.data.choices.length>0)return a.data.choices[0].message.content.trim()}catch(a){console.error("Error calling AI API for summary:",a)}}const i=n.split(/[.!?]/).filter(o=>o.trim().length>0);return i.length>=2?i.slice(0,2).join(". ")+".":i.length===1?i[0]+".":`This ${r.toLowerCase()} article discusses ${t.toLowerCase()}.`}catch(t){return console.error("Error generating AI summary:",t),"AI summary unavailable."}},ae=()=>{const e=[{id:"1",title:"AI in Healthcare: Revolutionizing Patient Care",description:"How artificial intelligence is transforming diagnostics and treatment planning.",content:"Artificial intelligence is changing the way doctors diagnose diseases...",imageUrl:"https://source.unsplash.com/random/800x600?healthcare",category:"Technology",publishedAt:new Date().toISOString(),source:"Tech Daily",url:"https://example.com/article1",isLocalNews:!1,relevanceReason:"Based on your interest in healthcare technology",aiSummary:"AI is revolutionizing healthcare through improved diagnostics and personalized treatment plans.",readTime:5,views:1234,author:{name:"Dr. Sarah Johnson",avatar:"https://source.unsplash.com/random/100x100?portrait"}},{id:"2",title:"Global Climate Summit Reaches New Agreement",description:"World leaders have agreed on ambitious new climate targets at the latest summit.",content:"In a historic move, world leaders have agreed to...",imageUrl:"https://source.unsplash.com/random/800x600?climate",category:"Politics",publishedAt:new Date().toISOString(),source:"Global News",url:"https://example.com/article2",isLocalNews:!1,relevanceReason:"Based on your interest in environmental issues",aiSummary:"New climate agreement sets ambitious targets for reducing emissions by 2030.",readTime:4,views:2345,author:{name:"James Wilson",avatar:"https://source.unsplash.com/random/100x100?portrait"}},{id:"3",title:"Local Community Garden Project Thrives",description:"A community initiative to create urban gardens is showing remarkable success.",content:"The local community garden project has transformed...",imageUrl:"https://source.unsplash.com/random/800x600?garden",category:"Local",publishedAt:new Date().toISOString(),source:"City News",url:"https://example.com/article3",isLocalNews:!0,relevanceReason:"This is happening in your local area",aiSummary:"Community garden project improves local food security and community engagement.",readTime:3,views:567,author:{name:"Maria Garcia",avatar:"https://source.unsplash.com/random/100x100?portrait"}}],t=new Date;return t.setFullYear(2025),e.map(n=>{const r=Math.floor(Math.random()*F),s=new Date(t);s.setDate(s.getDate()-r);const i=n.title.replace(/2023|2024/g,"2025"),o=n.content.replace(/2023|2024/g,"2025"),a=$(n.content||n.description),d=Math.floor(Math.random()*25)+70;return{...n,title:i,content:o,publishedAt:s.toISOString(),keyFeatures:a,trendingScore:d,summary:n.description,readTime:n.readTime||Math.ceil(Math.random()*5)+2,views:n.views||Math.floor(Math.random()*1e3)+100,author:n.author||{name:"Anonymous",avatar:"https://source.unsplash.com/random/100x100?avatar"}}})};async function gr(e){await new Promise(r=>setTimeout(r,1e3));const n=ae().find(r=>r.id===e);return n?{...n,content:n.content||n.description}:null}export{dr as a,w as b,pr as c,fr as d,mr as e,gr as g,hr as s};
