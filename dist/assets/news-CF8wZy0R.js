import{s as ke}from"./index-Be2bsAiI.js";function Ue(e,t){return function(){return e.apply(t,arguments)}}const{toString:st}=Object.prototype,{getPrototypeOf:fe}=Object,{iterator:X,toStringTag:Fe}=Symbol,Z=(e=>t=>{const r=st.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),N=e=>(e=e.toLowerCase(),t=>Z(t)===e),Y=e=>t=>typeof t===e,{isArray:L}=Array,j=Y("undefined");function ot(e){return e!==null&&!j(e)&&e.constructor!==null&&!j(e.constructor)&&O(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const De=N("ArrayBuffer");function it(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&De(e.buffer),t}const at=Y("string"),O=Y("function"),Be=Y("number"),Q=e=>e!==null&&typeof e=="object",ct=e=>e===!0||e===!1,W=e=>{if(Z(e)!=="object")return!1;const t=fe(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Fe in e)&&!(X in e)},lt=N("Date"),ut=N("File"),dt=N("Blob"),ft=N("FileList"),pt=e=>Q(e)&&O(e.pipe),ht=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||O(e.append)&&((t=Z(e))==="formdata"||t==="object"&&O(e.toString)&&e.toString()==="[object FormData]"))},mt=N("URLSearchParams"),[yt,gt,wt,bt]=["ReadableStream","Request","Response","Headers"].map(N),Et=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function M(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),L(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{const o=r?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(n=0;n<i;n++)l=o[n],t.call(null,e[l],l,e)}}function Le(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const U=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ve=e=>!j(e)&&e!==U;function ie(){const{caseless:e}=ve(this)&&this||{},t={},r=(n,s)=>{const o=e&&Le(t,s)||s;W(t[o])&&W(n)?t[o]=ie(t[o],n):W(n)?t[o]=ie({},n):L(n)?t[o]=n.slice():t[o]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&M(arguments[n],r);return t}const At=(e,t,r,{allOwnKeys:n}={})=>(M(t,(s,o)=>{r&&O(s)?e[o]=Ue(s,r):e[o]=s},{allOwnKeys:n}),e),St=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Rt=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Tt=(e,t,r,n)=>{let s,o,i;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&fe(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Ot=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},xt=e=>{if(!e)return null;if(L(e))return e;let t=e.length;if(!Be(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Nt=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&fe(Uint8Array)),Ct=(e,t)=>{const n=(e&&e[X]).call(e);let s;for(;(s=n.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},Pt=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},_t=N("HTMLFormElement"),kt=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),ye=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Ut=N("RegExp"),Ie=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};M(r,(s,o)=>{let i;(i=t(s,o,e))!==!1&&(n[o]=i||s)}),Object.defineProperties(e,n)},Ft=e=>{Ie(e,(t,r)=>{if(O(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(O(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Dt=(e,t)=>{const r={},n=s=>{s.forEach(o=>{r[o]=!0})};return L(e)?n(e):n(String(e).split(t)),r},Bt=()=>{},Lt=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function vt(e){return!!(e&&O(e.append)&&e[Fe]==="FormData"&&e[X])}const It=e=>{const t=new Array(10),r=(n,s)=>{if(Q(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[s]=n;const o=L(n)?[]:{};return M(n,(i,l)=>{const d=r(i,s+1);!j(d)&&(o[l]=d)}),t[s]=void 0,o}}return n};return r(e,0)},jt=N("AsyncFunction"),qt=e=>e&&(Q(e)||O(e))&&O(e.then)&&O(e.catch),je=((e,t)=>e?setImmediate:t?((r,n)=>(U.addEventListener("message",({source:s,data:o})=>{s===U&&o===r&&n.length&&n.shift()()},!1),s=>{n.push(s),U.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",O(U.postMessage)),Mt=typeof queueMicrotask<"u"?queueMicrotask.bind(U):typeof process<"u"&&process.nextTick||je,Ht=e=>e!=null&&O(e[X]),a={isArray:L,isArrayBuffer:De,isBuffer:ot,isFormData:ht,isArrayBufferView:it,isString:at,isNumber:Be,isBoolean:ct,isObject:Q,isPlainObject:W,isReadableStream:yt,isRequest:gt,isResponse:wt,isHeaders:bt,isUndefined:j,isDate:lt,isFile:ut,isBlob:dt,isRegExp:Ut,isFunction:O,isStream:pt,isURLSearchParams:mt,isTypedArray:Nt,isFileList:ft,forEach:M,merge:ie,extend:At,trim:Et,stripBOM:St,inherits:Rt,toFlatObject:Tt,kindOf:Z,kindOfTest:N,endsWith:Ot,toArray:xt,forEachEntry:Ct,matchAll:Pt,isHTMLForm:_t,hasOwnProperty:ye,hasOwnProp:ye,reduceDescriptors:Ie,freezeMethods:Ft,toObjectSet:Dt,toCamelCase:kt,noop:Bt,toFiniteNumber:Lt,findKey:Le,global:U,isContextDefined:ve,isSpecCompliantForm:vt,toJSONObject:It,isAsyncFn:jt,isThenable:qt,setImmediate:je,asap:Mt,isIterable:Ht};function m(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}a.inherits(m,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:a.toJSONObject(this.config),code:this.code,status:this.status}}});const qe=m.prototype,Me={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Me[e]={value:e}});Object.defineProperties(m,Me);Object.defineProperty(qe,"isAxiosError",{value:!0});m.from=(e,t,r,n,s,o)=>{const i=Object.create(qe);return a.toFlatObject(e,i,function(d){return d!==Error.prototype},l=>l!=="isAxiosError"),m.call(i,e.message,t,r,n,s),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const $t=null;function ae(e){return a.isPlainObject(e)||a.isArray(e)}function He(e){return a.endsWith(e,"[]")?e.slice(0,-2):e}function ge(e,t,r){return e?e.concat(t).map(function(s,o){return s=He(s),!r&&o?"["+s+"]":s}).join(r?".":""):t}function Wt(e){return a.isArray(e)&&!e.some(ae)}const zt=a.toFlatObject(a,{},null,function(t){return/^is[A-Z]/.test(t)});function ee(e,t,r){if(!a.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=a.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,h){return!a.isUndefined(h[y])});const n=r.metaTokens,s=r.visitor||u,o=r.dots,i=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&a.isSpecCompliantForm(t);if(!a.isFunction(s))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(a.isDate(p))return p.toISOString();if(!d&&a.isBlob(p))throw new m("Blob is not supported. Use a Buffer instead.");return a.isArrayBuffer(p)||a.isTypedArray(p)?d&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,y,h){let b=p;if(p&&!h&&typeof p=="object"){if(a.endsWith(y,"{}"))y=n?y:y.slice(0,-2),p=JSON.stringify(p);else if(a.isArray(p)&&Wt(p)||(a.isFileList(p)||a.endsWith(y,"[]"))&&(b=a.toArray(p)))return y=He(y),b.forEach(function(S,P){!(a.isUndefined(S)||S===null)&&t.append(i===!0?ge([y],P,o):i===null?y:y+"[]",c(S))}),!1}return ae(p)?!0:(t.append(ge(h,y,o),c(p)),!1)}const f=[],w=Object.assign(zt,{defaultVisitor:u,convertValue:c,isVisitable:ae});function E(p,y){if(!a.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(p),a.forEach(p,function(b,A){(!(a.isUndefined(b)||b===null)&&s.call(t,b,a.isString(A)?A.trim():A,y,w))===!0&&E(b,y?y.concat(A):[A])}),f.pop()}}if(!a.isObject(e))throw new TypeError("data must be an object");return E(e),t}function we(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function pe(e,t){this._pairs=[],e&&ee(e,this,t)}const $e=pe.prototype;$e.append=function(t,r){this._pairs.push([t,r])};$e.toString=function(t){const r=t?function(n){return t.call(this,n,we)}:we;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function Kt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function We(e,t,r){if(!t)return e;const n=r&&r.encode||Kt;a.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let o;if(s?o=s(t,r):o=a.isURLSearchParams(t)?t.toString():new pe(t,r).toString(n),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class be{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){a.forEach(this.handlers,function(n){n!==null&&t(n)})}}const ze={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vt=typeof URLSearchParams<"u"?URLSearchParams:pe,Jt=typeof FormData<"u"?FormData:null,Gt=typeof Blob<"u"?Blob:null,Xt={isBrowser:!0,classes:{URLSearchParams:Vt,FormData:Jt,Blob:Gt},protocols:["http","https","file","blob","url","data"]},he=typeof window<"u"&&typeof document<"u",ce=typeof navigator=="object"&&navigator||void 0,Zt=he&&(!ce||["ReactNative","NativeScript","NS"].indexOf(ce.product)<0),Yt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Qt=he&&window.location.href||"http://localhost",en=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:he,hasStandardBrowserEnv:Zt,hasStandardBrowserWebWorkerEnv:Yt,navigator:ce,origin:Qt},Symbol.toStringTag,{value:"Module"})),R={...en,...Xt};function tn(e,t){return ee(e,new R.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,o){return R.isNode&&a.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function nn(e){return a.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function rn(e){const t={},r=Object.keys(e);let n;const s=r.length;let o;for(n=0;n<s;n++)o=r[n],t[o]=e[o];return t}function Ke(e){function t(r,n,s,o){let i=r[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),d=o>=r.length;return i=!i&&a.isArray(s)?s.length:i,d?(a.hasOwnProp(s,i)?s[i]=[s[i],n]:s[i]=n,!l):((!s[i]||!a.isObject(s[i]))&&(s[i]=[]),t(r,n,s[i],o)&&a.isArray(s[i])&&(s[i]=rn(s[i])),!l)}if(a.isFormData(e)&&a.isFunction(e.entries)){const r={};return a.forEachEntry(e,(n,s)=>{t(nn(n),s,r,0)}),r}return null}function sn(e,t,r){if(a.isString(e))try{return(t||JSON.parse)(e),a.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const H={transitional:ze,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,o=a.isObject(t);if(o&&a.isHTMLForm(t)&&(t=new FormData(t)),a.isFormData(t))return s?JSON.stringify(Ke(t)):t;if(a.isArrayBuffer(t)||a.isBuffer(t)||a.isStream(t)||a.isFile(t)||a.isBlob(t)||a.isReadableStream(t))return t;if(a.isArrayBufferView(t))return t.buffer;if(a.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return tn(t,this.formSerializer).toString();if((l=a.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return ee(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return o||s?(r.setContentType("application/json",!1),sn(t)):t}],transformResponse:[function(t){const r=this.transitional||H.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(a.isResponse(t)||a.isReadableStream(t))return t;if(t&&a.isString(t)&&(n&&!this.responseType||s)){const i=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?m.from(l,m.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:R.classes.FormData,Blob:R.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};a.forEach(["delete","get","head","post","put","patch"],e=>{H.headers[e]={}});const on=a.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),an=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),r=i.substring(0,s).trim().toLowerCase(),n=i.substring(s+1).trim(),!(!r||t[r]&&on[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Ee=Symbol("internals");function I(e){return e&&String(e).trim().toLowerCase()}function z(e){return e===!1||e==null?e:a.isArray(e)?e.map(z):String(e)}function cn(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const ln=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function re(e,t,r,n,s){if(a.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!a.isString(t)){if(a.isString(n))return t.indexOf(n)!==-1;if(a.isRegExp(n))return n.test(t)}}function un(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function dn(e,t){const r=a.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,o,i){return this[n].call(this,t,s,o,i)},configurable:!0})})}let x=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function o(l,d,c){const u=I(d);if(!u)throw new Error("header name must be a non-empty string");const f=a.findKey(s,u);(!f||s[f]===void 0||c===!0||c===void 0&&s[f]!==!1)&&(s[f||d]=z(l))}const i=(l,d)=>a.forEach(l,(c,u)=>o(c,u,d));if(a.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(a.isString(t)&&(t=t.trim())&&!ln(t))i(an(t),r);else if(a.isObject(t)&&a.isIterable(t)){let l={},d,c;for(const u of t){if(!a.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[c=u[0]]=(d=l[c])?a.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}i(l,r)}else t!=null&&o(r,t,n);return this}get(t,r){if(t=I(t),t){const n=a.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return cn(s);if(a.isFunction(r))return r.call(this,s,n);if(a.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=I(t),t){const n=a.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||re(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function o(i){if(i=I(i),i){const l=a.findKey(n,i);l&&(!r||re(n,n[l],l,r))&&(delete n[l],s=!0)}}return a.isArray(t)?t.forEach(o):o(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const o=r[n];(!t||re(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const r=this,n={};return a.forEach(this,(s,o)=>{const i=a.findKey(n,o);if(i){r[i]=z(s),delete r[o];return}const l=t?un(o):String(o).trim();l!==o&&delete r[o],r[l]=z(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return a.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&a.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[Ee]=this[Ee]={accessors:{}}).accessors,s=this.prototype;function o(i){const l=I(i);n[l]||(dn(s,i),n[l]=!0)}return a.isArray(t)?t.forEach(o):o(t),this}};x.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);a.reduceDescriptors(x.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});a.freezeMethods(x);function se(e,t){const r=this||H,n=t||r,s=x.from(n.headers);let o=n.data;return a.forEach(e,function(l){o=l.call(r,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function Ve(e){return!!(e&&e.__CANCEL__)}function v(e,t,r){m.call(this,e??"canceled",m.ERR_CANCELED,t,r),this.name="CanceledError"}a.inherits(v,m,{__CANCEL__:!0});function Je(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new m("Request failed with status code "+r.status,[m.ERR_BAD_REQUEST,m.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function fn(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function pn(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,o=0,i;return t=t!==void 0?t:1e3,function(d){const c=Date.now(),u=n[o];i||(i=c),r[s]=d,n[s]=c;let f=o,w=0;for(;f!==s;)w+=r[f++],f=f%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),c-i<t)return;const E=u&&c-u;return E?Math.round(w*1e3/E):void 0}}function hn(e,t){let r=0,n=1e3/t,s,o;const i=(c,u=Date.now())=>{r=u,s=null,o&&(clearTimeout(o),o=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),f=u-r;f>=n?i(c,u):(s=c,o||(o=setTimeout(()=>{o=null,i(s)},n-f)))},()=>s&&i(s)]}const V=(e,t,r=3)=>{let n=0;const s=pn(50,250);return hn(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,d=i-n,c=s(d),u=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:d,rate:c||void 0,estimated:c&&l&&u?(l-i)/c:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},Ae=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Se=e=>(...t)=>a.asap(()=>e(...t)),mn=R.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,R.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(R.origin),R.navigator&&/(msie|trident)/i.test(R.navigator.userAgent)):()=>!0,yn=R.hasStandardBrowserEnv?{write(e,t,r,n,s,o){const i=[e+"="+encodeURIComponent(t)];a.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),a.isString(n)&&i.push("path="+n),a.isString(s)&&i.push("domain="+s),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gn(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function wn(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ge(e,t,r){let n=!gn(t);return e&&(n||r==!1)?wn(e,t):t}const Re=e=>e instanceof x?{...e}:e;function D(e,t){t=t||{};const r={};function n(c,u,f,w){return a.isPlainObject(c)&&a.isPlainObject(u)?a.merge.call({caseless:w},c,u):a.isPlainObject(u)?a.merge({},u):a.isArray(u)?u.slice():u}function s(c,u,f,w){if(a.isUndefined(u)){if(!a.isUndefined(c))return n(void 0,c,f,w)}else return n(c,u,f,w)}function o(c,u){if(!a.isUndefined(u))return n(void 0,u)}function i(c,u){if(a.isUndefined(u)){if(!a.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function l(c,u,f){if(f in t)return n(c,u);if(f in e)return n(void 0,c)}const d={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(c,u,f)=>s(Re(c),Re(u),f,!0)};return a.forEach(Object.keys(Object.assign({},e,t)),function(u){const f=d[u]||s,w=f(e[u],t[u],u);a.isUndefined(w)&&f!==l||(r[u]=w)}),r}const Xe=e=>{const t=D({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:l}=t;t.headers=i=x.from(i),t.url=We(Ge(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let d;if(a.isFormData(r)){if(R.hasStandardBrowserEnv||R.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((d=i.getContentType())!==!1){const[c,...u]=d?d.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...u].join("; "))}}if(R.hasStandardBrowserEnv&&(n&&a.isFunction(n)&&(n=n(t)),n||n!==!1&&mn(t.url))){const c=s&&o&&yn.read(o);c&&i.set(s,c)}return t},bn=typeof XMLHttpRequest<"u",En=bn&&function(e){return new Promise(function(r,n){const s=Xe(e);let o=s.data;const i=x.from(s.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:c}=s,u,f,w,E,p;function y(){E&&E(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let h=new XMLHttpRequest;h.open(s.method.toUpperCase(),s.url,!0),h.timeout=s.timeout;function b(){if(!h)return;const S=x.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),T={data:!l||l==="text"||l==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:S,config:e,request:h};Je(function(k){r(k),y()},function(k){n(k),y()},T),h=null}"onloadend"in h?h.onloadend=b:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(b)},h.onabort=function(){h&&(n(new m("Request aborted",m.ECONNABORTED,e,h)),h=null)},h.onerror=function(){n(new m("Network Error",m.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let P=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const T=s.transitional||ze;s.timeoutErrorMessage&&(P=s.timeoutErrorMessage),n(new m(P,T.clarifyTimeoutError?m.ETIMEDOUT:m.ECONNABORTED,e,h)),h=null},o===void 0&&i.setContentType(null),"setRequestHeader"in h&&a.forEach(i.toJSON(),function(P,T){h.setRequestHeader(T,P)}),a.isUndefined(s.withCredentials)||(h.withCredentials=!!s.withCredentials),l&&l!=="json"&&(h.responseType=s.responseType),c&&([w,p]=V(c,!0),h.addEventListener("progress",w)),d&&h.upload&&([f,E]=V(d),h.upload.addEventListener("progress",f),h.upload.addEventListener("loadend",E)),(s.cancelToken||s.signal)&&(u=S=>{h&&(n(!S||S.type?new v(null,e,h):S),h.abort(),h=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const A=fn(s.url);if(A&&R.protocols.indexOf(A)===-1){n(new m("Unsupported protocol "+A+":",m.ERR_BAD_REQUEST,e));return}h.send(o||null)})},An=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const o=function(c){if(!s){s=!0,l();const u=c instanceof Error?c:this.reason;n.abort(u instanceof m?u:new v(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,o(new m(`timeout ${t} of ms exceeded`,m.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>a.asap(l),d}},Sn=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},Rn=async function*(e,t){for await(const r of Tn(e))yield*Sn(r,t)},Tn=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Te=(e,t,r,n)=>{const s=Rn(e,t);let o=0,i,l=d=>{i||(i=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await s.next();if(c){l(),d.close();return}let f=u.byteLength;if(r){let w=o+=f;r(w)}d.enqueue(new Uint8Array(u))}catch(c){throw l(c),c}},cancel(d){return l(d),s.return()}},{highWaterMark:2})},te=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ze=te&&typeof ReadableStream=="function",On=te&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Ye=(e,...t)=>{try{return!!e(...t)}catch{return!1}},xn=Ze&&Ye(()=>{let e=!1;const t=new Request(R.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Oe=64*1024,le=Ze&&Ye(()=>a.isReadableStream(new Response("").body)),J={stream:le&&(e=>e.body)};te&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!J[t]&&(J[t]=a.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new m(`Response type '${t}' is not supported`,m.ERR_NOT_SUPPORT,n)})})})(new Response);const Nn=async e=>{if(e==null)return 0;if(a.isBlob(e))return e.size;if(a.isSpecCompliantForm(e))return(await new Request(R.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(a.isArrayBufferView(e)||a.isArrayBuffer(e))return e.byteLength;if(a.isURLSearchParams(e)&&(e=e+""),a.isString(e))return(await On(e)).byteLength},Cn=async(e,t)=>{const r=a.toFiniteNumber(e.getContentLength());return r??Nn(t)},Pn=te&&(async e=>{let{url:t,method:r,data:n,signal:s,cancelToken:o,timeout:i,onDownloadProgress:l,onUploadProgress:d,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:w}=Xe(e);c=c?(c+"").toLowerCase():"text";let E=An([s,o&&o.toAbortSignal()],i),p;const y=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let h;try{if(d&&xn&&r!=="get"&&r!=="head"&&(h=await Cn(u,n))!==0){let T=new Request(t,{method:"POST",body:n,duplex:"half"}),_;if(a.isFormData(n)&&(_=T.headers.get("content-type"))&&u.setContentType(_),T.body){const[k,$]=Ae(h,V(Se(d)));n=Te(T.body,Oe,k,$)}}a.isString(f)||(f=f?"include":"omit");const b="credentials"in Request.prototype;p=new Request(t,{...w,signal:E,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:b?f:void 0});let A=await fetch(p);const S=le&&(c==="stream"||c==="response");if(le&&(l||S&&y)){const T={};["status","statusText","headers"].forEach(me=>{T[me]=A[me]});const _=a.toFiniteNumber(A.headers.get("content-length")),[k,$]=l&&Ae(_,V(Se(l),!0))||[];A=new Response(Te(A.body,Oe,k,()=>{$&&$(),y&&y()}),T)}c=c||"text";let P=await J[a.findKey(J,c)||"text"](A,e);return!S&&y&&y(),await new Promise((T,_)=>{Je(T,_,{data:P,headers:x.from(A.headers),status:A.status,statusText:A.statusText,config:e,request:p})})}catch(b){throw y&&y(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new m("Network Error",m.ERR_NETWORK,e,p),{cause:b.cause||b}):m.from(b,b&&b.code,e,p)}}),ue={http:$t,xhr:En,fetch:Pn};a.forEach(ue,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const xe=e=>`- ${e}`,_n=e=>a.isFunction(e)||e===null||e===!1,Qe={getAdapter:e=>{e=a.isArray(e)?e:[e];const{length:t}=e;let r,n;const s={};for(let o=0;o<t;o++){r=e[o];let i;if(n=r,!_n(r)&&(n=ue[(i=String(r)).toLowerCase()],n===void 0))throw new m(`Unknown adapter '${i}'`);if(n)break;s[i||"#"+o]=n}if(!n){const o=Object.entries(s).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let i=t?o.length>1?`since :
`+o.map(xe).join(`
`):" "+xe(o[0]):"as no adapter specified";throw new m("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:ue};function oe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new v(null,e)}function Ne(e){return oe(e),e.headers=x.from(e.headers),e.data=se.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Qe.getAdapter(e.adapter||H.adapter)(e).then(function(n){return oe(e),n.data=se.call(e,e.transformResponse,n),n.headers=x.from(n.headers),n},function(n){return Ve(n)||(oe(e),n&&n.response&&(n.response.data=se.call(e,e.transformResponse,n.response),n.response.headers=x.from(n.response.headers))),Promise.reject(n)})}const et="1.9.0",ne={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ne[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Ce={};ne.transitional=function(t,r,n){function s(o,i){return"[Axios v"+et+"] Transitional option '"+o+"'"+i+(n?". "+n:"")}return(o,i,l)=>{if(t===!1)throw new m(s(i," has been removed"+(r?" in "+r:"")),m.ERR_DEPRECATED);return r&&!Ce[i]&&(Ce[i]=!0,console.warn(s(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,i,l):!0}};ne.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function kn(e,t,r){if(typeof e!="object")throw new m("options must be an object",m.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const o=n[s],i=t[o];if(i){const l=e[o],d=l===void 0||i(l,o,e);if(d!==!0)throw new m("option "+o+" must be "+d,m.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new m("Unknown option "+o,m.ERR_BAD_OPTION)}}const K={assertOptions:kn,validators:ne},C=K.validators;let F=class{constructor(t){this.defaults=t||{},this.interceptors={request:new be,response:new be}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=D(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:o}=r;n!==void 0&&K.assertOptions(n,{silentJSONParsing:C.transitional(C.boolean),forcedJSONParsing:C.transitional(C.boolean),clarifyTimeoutError:C.transitional(C.boolean)},!1),s!=null&&(a.isFunction(s)?r.paramsSerializer={serialize:s}:K.assertOptions(s,{encode:C.function,serialize:C.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),K.assertOptions(r,{baseUrl:C.spelling("baseURL"),withXsrfToken:C.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=o&&a.merge(o.common,o[r.method]);o&&a.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),r.headers=x.concat(i,o);const l=[];let d=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(d=d&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,f=0,w;if(!d){const p=[Ne.bind(this),void 0];for(p.unshift.apply(p,l),p.push.apply(p,c),w=p.length,u=Promise.resolve(r);f<w;)u=u.then(p[f++],p[f++]);return u}w=l.length;let E=r;for(f=0;f<w;){const p=l[f++],y=l[f++];try{E=p(E)}catch(h){y.call(this,h);break}}try{u=Ne.call(this,E)}catch(p){return Promise.reject(p)}for(f=0,w=c.length;f<w;)u=u.then(c[f++],c[f++]);return u}getUri(t){t=D(this.defaults,t);const r=Ge(t.baseURL,t.url,t.allowAbsoluteUrls);return We(r,t.params,t.paramsSerializer)}};a.forEach(["delete","get","head","options"],function(t){F.prototype[t]=function(r,n){return this.request(D(n||{},{method:t,url:r,data:(n||{}).data}))}});a.forEach(["post","put","patch"],function(t){function r(n){return function(o,i,l){return this.request(D(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}F.prototype[t]=r(),F.prototype[t+"Form"]=r(!0)});let Un=class tt{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(s=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](s);n._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(l=>{n.subscribe(l),o=l}).then(s);return i.cancel=function(){n.unsubscribe(o)},i},t(function(o,i,l){n.reason||(n.reason=new v(o,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new tt(function(s){t=s}),cancel:t}}};function Fn(e){return function(r){return e.apply(null,r)}}function Dn(e){return a.isObject(e)&&e.isAxiosError===!0}const de={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(de).forEach(([e,t])=>{de[t]=e});function nt(e){const t=new F(e),r=Ue(F.prototype.request,t);return a.extend(r,F.prototype,t,{allOwnKeys:!0}),a.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return nt(D(e,s))},r}const g=nt(H);g.Axios=F;g.CanceledError=v;g.CancelToken=Un;g.isCancel=Ve;g.VERSION=et;g.toFormData=ee;g.AxiosError=m;g.Cancel=g.CanceledError;g.all=function(t){return Promise.all(t)};g.spread=Fn;g.isAxiosError=Dn;g.mergeConfig=D;g.AxiosHeaders=x;g.formToJSON=e=>Ke(a.isHTMLForm(e)?new FormData(e):e);g.getAdapter=Qe.getAdapter;g.HttpStatusCode=de;g.default=g;const{Axios:$n,AxiosError:Wn,CanceledError:zn,isCancel:Kn,CancelToken:Vn,VERSION:Jn,all:Gn,Cancel:Xn,isAxiosError:Zn,spread:Yn,toFormData:Qn,AxiosHeaders:er,HttpStatusCode:tr,formToJSON:nr,getAdapter:rr,mergeConfig:sr}=g,or=()=>new Promise((e,t)=>{if(!navigator.geolocation){t(new Error("Geolocation is not supported by your browser"));return}navigator.geolocation.getCurrentPosition(r=>{const n={latitude:r.coords.latitude,longitude:r.coords.longitude};e(n)},r=>{console.error("Error getting location:",r),t(r)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),ir=async(e,t)=>{try{const n=(await g.get(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e}&lon=${t}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"NewspaperAI/1.0"}})).data;return{latitude:e,longitude:t,address:n.display_name,city:n.address.city||n.address.town||n.address.village||n.address.hamlet,region:n.address.state||n.address.county,country:n.address.country,formattedAddress:n.display_name}}catch(r){return console.error("Error getting address from coordinates:",r),{latitude:e,longitude:t}}},Bn=e=>{try{if(!e)return null;if(e.includes(",")){const[t,r]=e.split(","),n=parseFloat(t.trim()),s=parseFloat(r.trim());if(!isNaN(n)&&!isNaN(s))return{latitude:n,longitude:s}}return null}catch(t){return console.error("Error parsing location string:",t),null}},ar=e=>e.city&&e.region?`${e.city}, ${e.region}`:e.city?e.city:e.formattedAddress?e.formattedAddress:`${e.latitude.toFixed(2)}, ${e.longitude.toFixed(2)}`;var B={};const q={THENEWSAPI:"https://api.thenewsapi.com/v1/news",NEWSDATA:"https://newsdata.io/api/1/news",NEWSAPI:"https://newsapi.org/v2",APITUBE:"https://api.apitube.io/v1/news"};async function cr(e=null,t){try{if(t&&(!e||e==="Local"))try{const n=await Ln(t);if(n.length>0)return n}catch(n){console.error("Error fetching local news:",n)}try{const n=await vn(e);if(n.length>0)return t?await Pe(n,t):n}catch(n){console.error("Error fetching from TheNewsAPI:",n)}try{const n=await In(e);if(n.length>0)return t?await Pe(n,t):n}catch(n){console.error("Error fetching from NewsData.io:",n)}console.warn("All news APIs failed, using mock data as fallback");let r=_e(e);return t&&(r=r.map((n,s)=>s%3===0?{...n,relevanceReason:`This is happening near ${t.city||"your location"}.`,isLocalNews:!0}:n)),r}catch(r){return console.error("Error fetching articles:",r),_e(e)}}async function Ln(e){try{const t=e.city||"",r=e.region||"",n=e.country||"",s=[t,r,n].filter(Boolean).join(" ");if(!s)return[];const o=`${q.NEWSDATA}`,i={apikey:B.VITE_NEWSDATA_KEY||void 0,language:"en",q:s,category:"top",size:15},l=await g.get(o,{params:i});return l.data&&l.data.results&&l.data.results.length>0?l.data.results.map(c=>({id:c.article_id||String(Math.random()),title:c.title,category:"Local",source:c.source_id||"NewsData.io",url:c.link,imageUrl:c.image_url,summary:c.description||c.content,content:c.content,description:c.description,publishedAt:c.pubDate||new Date().toISOString(),relevanceReason:`This is happening in ${e.city||"your area"}.`,isLocalNews:!0})):[]}catch(t){return console.error("Error fetching local news:",t),[]}}async function vn(e=null){let t=`${q.THENEWSAPI}/top`,r={api_token:B.VITE_THENEWSAPI_KEY||void 0,language:"en",limit:10};if(e&&e!=="All"&&e!=="Local"){const s={Technology:"tech",Business:"business",Politics:"politics",Science:"science",Health:"health",Sports:"sports",Entertainment:"entertainment","World News":"world"};r.categories=s[e]||"general"}const n=await g.get(t,{params:r});return n.data&&n.data.data&&n.data.data.length>0?n.data.data.map(s=>({id:s.uuid||s.id||String(Math.random()),title:s.title,category:e||G(s.keywords||[]),source:s.source||"TheNewsAPI",url:s.url,imageUrl:s.image_url,summary:s.description||s.snippet,content:s.content||s.snippet,description:s.description||s.snippet,publishedAt:s.published_at||new Date().toISOString()})):[]}async function In(e=null){let t=`${q.NEWSDATA}`,r={apikey:B.VITE_NEWSDATA_KEY||void 0,language:"en",size:10};if(e&&e!=="All"&&e!=="Local"){const s={Technology:"technology",Business:"business",Politics:"politics",Science:"science",Health:"health",Sports:"sports",Entertainment:"entertainment","World News":"world"};r.category=s[e]||"top"}const n=await g.get(t,{params:r});return n.data&&n.data.results&&n.data.results.length>0?n.data.results.map(s=>({id:s.article_id||String(Math.random()),title:s.title,category:e||G(s.keywords||[]),source:s.source_id||"NewsData.io",url:s.link,imageUrl:s.image_url,summary:s.description||s.content,content:s.content,description:s.description,publishedAt:s.pubDate||new Date().toISOString()})):[]}async function Pe(e,t){try{const r=e.slice(0,5),n=B.VITE_OPENROUTER_API_KEY||void 0;if(!n)return console.warn("OpenRouter API key not found, skipping relevance analysis"),e;const s=await Promise.all(r.map(async(i,l)=>{if(l%2!==0)return i;try{const d=`
Given the following article, please analyze how it might be relevant to someone living in ${t.city||t.region||"the provided location"}, ${t.country||""}.
Provide a concise one-sentence explanation (25 words max) of why this news might matter to them personally.

Article Title: ${i.title}
Article Summary: ${i.summary}
`,c=await g.post("https://openrouter.ai/api/v1/chat/completions",{model:"openai/gpt-3.5-turbo-0125",messages:[{role:"user",content:d}],temperature:.7,max_tokens:100},{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(c.data&&c.data.choices&&c.data.choices.length>0){const u=c.data.choices[0].message.content.trim();return{...i,relevanceReason:u,aiSummary:`This ${i.category.toLowerCase()} news could impact ${t.city||"your area"}'s economic and social landscape.`}}}catch(d){console.error("Error generating relevance explanation:",d)}return i})),o=[...e];return s.forEach((i,l)=>{l<5&&(o[l]=i)}),o}catch(r){return console.error("Error adding relevance explanations:",r),e}}function G(e){const t={Technology:["tech","technology","digital","software","hardware","ai","artificial intelligence"],Business:["business","finance","economy","market","stock","trade"],Politics:["politics","government","election","policy","political"],Science:["science","research","discovery","study","scientific"],Health:["health","medical","medicine","disease","healthcare","wellness"],Sports:["sports","football","soccer","baseball","basketball","tennis","olympics"],Entertainment:["entertainment","movie","music","celebrity","film","tv","show"],"World News":["world","international","global","foreign","diplomatic"]};for(const[r,n]of Object.entries(t))for(const s of e)if(n.some(o=>s.toLowerCase().includes(o)))return r;return"General"}function _e(e=null){const t=rt();return!e||e==="All"?t:t.filter(r=>r.category===e)}const lr=async(e,t)=>{try{let r="";t&&t.city;try{const o=`${q.THENEWSAPI}/all`,i={api_token:B.VITE_THENEWSAPI_KEY||void 0,language:"en",search:e+r,limit:20},l=await g.get(o,{params:i});if(l.data&&l.data.data&&l.data.data.length>0)return l.data.data.map(c=>({id:c.uuid||c.id||String(Math.random()),title:c.title,category:G(c.keywords||[]),source:c.source||"TheNewsAPI",url:c.url,imageUrl:c.image_url,summary:c.description||c.snippet,content:c.content||c.snippet,description:c.description||c.snippet,publishedAt:c.published_at||new Date().toISOString()}))}catch(o){console.error("Error searching TheNewsAPI:",o)}try{const o=`${q.NEWSDATA}`,i={apikey:B.VITE_NEWSDATA_KEY||void 0,language:"en",q:e+r,size:20},l=await g.get(o,{params:i});if(l.data&&l.data.results&&l.data.results.length>0)return l.data.results.map(c=>({id:c.article_id||String(Math.random()),title:c.title,category:G(c.keywords||[]),source:c.source_id||"NewsData.io",url:c.link,imageUrl:c.image_url,summary:c.description||c.content,content:c.content,description:c.description,publishedAt:c.pubDate||new Date().toISOString()}))}catch(o){console.error("Error searching NewsData.io:",o)}const n=rt(),s=e.toLowerCase().split(" ");return n.filter(o=>{const i=s.some(u=>o.title.toLowerCase().includes(u)),l=s.some(u=>o.summary.toLowerCase().includes(u)),d=o.content?s.some(u=>o.content.toLowerCase().includes(u)):!1,c=s.some(u=>o.category.toLowerCase().includes(u));return i||l||d||c})}catch(r){return console.error("Error in searchArticles:",r),[]}},ur=async e=>{try{const{preferences:t}=await jn(e);return t&&t.location?Bn(t.location):null}catch(t){return console.error("Error getting user location from preferences:",t),null}},dr=async(e,t)=>{try{const{error:r}=await ke.from("user_preferences").upsert({user_id:e,categories:t.categories,sources:t.sources,location:t.location,updated_at:new Date().toISOString()});return{success:!r,error:r}}catch(r){return console.error("Error saving preferences:",r),{success:!1,error:r}}},jn=async e=>{try{const{data:t,error:r}=await ke.from("user_preferences").select("*").eq("user_id",e).single();return r?{preferences:null,error:r}:{preferences:t?{categories:t.categories,sources:t.sources,location:t.location}:null,error:null}}catch(t){return console.error("Error fetching preferences:",t),{preferences:null,error:t}}},fr=async e=>{try{const t=B.VITE_OPENROUTER_API_KEY||void 0;if(!t)return"AI summary not available. Please add your OpenRouter API key.";const r=`
Please provide a concise summary (3-4 sentences) of the following article:

Title: ${e.title}
Content: ${e.content||e.summary}

Focus on the key facts, implications, and why this matters to readers. Keep it simple and straightforward.
`,n=await g.post("https://openrouter.ai/api/v1/chat/completions",{model:"openai/gpt-3.5-turbo-0125",messages:[{role:"user",content:r}],temperature:.7,max_tokens:150},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return n.data&&n.data.choices&&n.data.choices.length>0?n.data.choices[0].message.content.trim():"Unable to generate AI summary at this time."}catch(t){return console.error("Error generating AI summary:",t),"Error generating AI summary. Please try again later."}},rt=()=>[{id:"1",title:"Breakthrough in Quantum Computing Promises Faster Processing",summary:"Scientists have achieved a quantum computing breakthrough that could revolutionize data processing speeds.",content:"Researchers at MIT have successfully demonstrated a new quantum computing architecture that maintains coherence for record durations, potentially allowing for complex calculations that would take traditional computers millennia to solve.",source:"Tech Horizons",url:"https://example.com/quantum-breakthrough",publishedAt:"2023-06-15T09:30:00Z",category:"Technology",imageUrl:"https://source.unsplash.com/random/800x600/?quantum",relevanceReason:"Based on your interest in computing technologies"},{id:"2",title:"Global Climate Summit Reaches Historic Agreement",summary:"World leaders have reached a consensus on ambitious climate goals at the latest summit.",content:"After intense negotiations, representatives from 195 countries have agreed to more stringent carbon emission targets and substantial funding for renewable energy infrastructure in developing nations.",source:"Global News Network",url:"https://example.com/climate-agreement",publishedAt:"2023-06-14T18:45:00Z",category:"World News",imageUrl:"https://source.unsplash.com/random/800x600/?climate",relevanceReason:"Trending in your area"},{id:"3",title:"New Study Links Exercise to Improved Brain Function",summary:"Research indicates that regular physical activity has more cognitive benefits than previously understood.",content:"A longitudinal study spanning 10 years has found that participants who engaged in moderate exercise at least three times weekly showed significantly improved memory retention and problem-solving capabilities compared to sedentary counterparts.",source:"Health Today",url:"https://example.com/exercise-brain-study",publishedAt:"2023-06-13T14:20:00Z",category:"Health",imageUrl:"https://source.unsplash.com/random/800x600/?exercise",relevanceReason:"Based on your recent reading history"},{id:"4",title:"Major Business Merger Creates New Market Leader",summary:"Two industry giants announced a surprising merger that will reshape the competitive landscape.",content:"The unexpected merger between two leading corporations is expected to create significant market disruption and may trigger regulatory reviews in multiple jurisdictions due to potential antitrust concerns.",source:"Business Insider",url:"https://example.com/business-merger",publishedAt:"2023-06-12T10:15:00Z",category:"Business",imageUrl:"https://source.unsplash.com/random/800x600/?business",relevanceReason:"Related to your followed industries"},{id:"5",title:"Upcoming Elections: Key Issues and Candidates",summary:"Analysis of the main policy debates and leading candidates in the upcoming national elections.",content:"Political analysts point to economic recovery, healthcare reform, and climate policy as the decisive factors likely to influence voter decisions in what is projected to be one of the most closely contested elections in recent history.",source:"Politics Daily",url:"https://example.com/election-preview",publishedAt:"2023-06-11T09:00:00Z",category:"Politics",imageUrl:"https://source.unsplash.com/random/800x600/?election",relevanceReason:"Important events in your region"},{id:"6",title:"Astronomical Discovery: New Exoplanet Could Support Life",summary:"Astronomers have identified a potentially habitable exoplanet within our stellar neighborhood.",content:"The newly discovered exoplanet, located just 40 light-years from Earth, resides in its star's habitable zone and appears to have an atmosphere containing water vapor, making it one of the most promising candidates for extraterrestrial life found to date.",source:"Space & Cosmos",url:"https://example.com/habitable-exoplanet",publishedAt:"2023-06-10T16:20:00Z",category:"Science",imageUrl:"https://source.unsplash.com/random/800x600/?planets",relevanceReason:"Matches your interest in astronomy"},{id:"7",title:"Championship Finals Set After Dramatic Semifinal Matches",summary:"Unexpected results in the semifinals have set up an intriguing championship final matchup.",content:"The underdog team's surprise victory has created tremendous excitement among fans worldwide, with ticket prices for the final match reaching record levels and broadcasting rights being negotiated for unprecedented amounts.",source:"Sports Center",url:"https://example.com/championship-finals",publishedAt:"2023-06-09T22:30:00Z",category:"Sports",imageUrl:"https://source.unsplash.com/random/800x600/?championship",relevanceReason:"Based on teams you follow"},{id:"8",title:"Award-Winning Film Director Announces Ambitious New Project",summary:"The acclaimed filmmaker revealed plans for a groundbreaking new cinematic experience.",content:"The highly anticipated project will utilize cutting-edge technology to create an immersive narrative experience, pushing the boundaries of traditional filmmaking and potentially establishing a new paradigm for storytelling in digital media.",source:"Entertainment Weekly",url:"https://example.com/director-new-project",publishedAt:"2023-06-08T12:15:00Z",category:"Entertainment",imageUrl:"https://source.unsplash.com/random/800x600/?cinema",relevanceReason:"Similar to content you've engaged with"}];export{ir as a,jn as b,ur as c,cr as d,lr as e,ar as f,or as g,fr as h,dr as s};
