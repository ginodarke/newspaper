[Cursor] Fix TypeScript errors and update components to work with new API
